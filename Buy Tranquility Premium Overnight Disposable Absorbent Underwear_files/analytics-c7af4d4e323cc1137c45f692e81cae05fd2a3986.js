!function(e){"function"==typeof e&&e.amd&&(e=void 0),function e(t,n,o){function r(a,s){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var p=n[a]={exports:{}};t[a][0].call(p.exports,(function(e){return r(t[a][1][e]||e)}),p,p.exports,e,t,n,o)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,t,n){"use strict";var o=e("@segment/analytics.js-core"),r=e("@ndhoule/each");t.exports=function(e){return r((function(e){o.use(e)}),e),o}},{"@ndhoule/each":9,"@segment/analytics.js-core":22}],2:[function(e,t,n){"use strict";t.exports={adwords:e("@segment/analytics.js-integration-adwords"),"facebook-pixel":e("@segment/analytics.js-integration-facebook-pixel"),"google-analytics":e("@segment/analytics.js-integration-google-analytics")}},{"@segment/analytics.js-integration-adwords":30,"@segment/analytics.js-integration-facebook-pixel":37,"@segment/analytics.js-integration-google-analytics":38}],3:[function(e,t,n){(function(t){"use strict";var n=e("./integrations.platform"),o=e("./analytics")(n),r=t._analytics_js_global_name||"analytics",i=t[r]||[],a=i&&i.SNIPPET_VERSION?parseFloat(i.SNIPPET_VERSION,10):0;for(o._VERSIONS={core:"3.6.0",cdn:"1.32.7",integrations:{}},o.initialize(i.platformSettings||{},{initialPageview:0===a,plan:o.platformPlan||{}});i&&i.length>0;){var s=i.shift(),c=s.shift();"function"==typeof o[c]&&o[c].apply(o,s)}i=null,t[r]=o}).call(this,"undefined"!=typeof window&&window.document&&window.document.implementation?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{})},{"./analytics":1,"./integrations.platform":2}],4:[function(e,t,n){"use strict";var o=e("@ndhoule/arity"),r=Object.prototype.toString;t.exports=function(e,t){if("number"!==(i=typeof(n=e))&&("object"!==i||"[object Number]"!==r.call(n)))throw new TypeError("Expected a number but received "+typeof e);var n,i;if(!function(e){return"function"==typeof e}(t))throw new TypeError("Expected a function but received "+typeof t);var a=0;return o(t.length,(function(){if(!((a+=1)<e))return t.apply(this,arguments)}))}},{"@ndhoule/arity":5}],5:[function(e,t,n){"use strict";var o=Object.prototype.toString,r=[function(e){return function(){return e.apply(this,arguments)}},function(e){return function(t){return e.apply(this,arguments)}},function(e){return function(t,n){return e.apply(this,arguments)}},function(e){return function(t,n,o){return e.apply(this,arguments)}},function(e){return function(t,n,o,r){return e.apply(this,arguments)}},function(e){return function(t,n,o,r,i){return e.apply(this,arguments)}}];t.exports=function(e,t){if("function"!=typeof t)throw new TypeError("Expected a function but got "+typeof t);return e=Math.max(function(e){var t=typeof e;return"number"===t||"object"===t&&"[object Number]"===o.call(e)}(e)?e:0,0),r[e]||(r[e]=function(e){var t=function(e){for(var t=[],n=1;n<=e;n+=1)t.push("arg"+n);return t}(e).join(", "),n="".concat("  return function(",t,") {\n","    return func.apply(this, arguments);\n","  };");return new Function("func",n)}(e)),r[e](t)}},{}],6:[function(e,t,n){"use strict";var o=e("component-type");t.exports=function e(t){var n=o(t);if("object"===n){var r={};for(var i in t)t.hasOwnProperty(i)&&(r[i]=e(t[i]));return r}if("array"===n){r=new Array(t.length);for(var a=0,s=t.length;a<s;a++)r[a]=e(t[a]);return r}if("regexp"===n){var c="";return c+=t.multiline?"m":"",c+=t.global?"g":"",c+=t.ignoreCase?"i":"",new RegExp(t.source,c)}return"date"===n?new Date(t.getTime()):t}},{"component-type":66}],7:[function(e,t,n){"use strict";var o=e("@ndhoule/drop"),r=e("@ndhoule/rest"),i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,s=function(e){return Boolean(e)&&"object"==typeof e},c=function(e){return Boolean(e)&&"[object Object]"===a.call(e)},u=function(e,t,n,o){return i.call(t,o)&&void 0===e[o]&&(e[o]=n),t},p=function(e,t,n,o){return i.call(t,o)&&(c(e[o])&&c(n)?e[o]=d(e[o],n):void 0===e[o]&&(e[o]=n)),t},l=function(e,t){if(!s(t))return t;e=e||u;for(var n=o(2,arguments),r=0;r<n.length;r+=1)for(var i in n[r])e(t,n[r],n[r][i],i);return t},d=function(e){return l.apply(null,[p,e].concat(r(arguments)))};t.exports=function(e){return l.apply(null,[null,e].concat(r(arguments)))},t.exports.deep=d},{"@ndhoule/drop":8,"@ndhoule/rest":17}],8:[function(e,t,n){"use strict";var o=Math.max;t.exports=function(e,t){var n=t?t.length:0;if(!n)return[];for(var r=o(Number(e)||0,0),i=o(n-r,0),a=new Array(i),s=0;s<i;s+=1)a[s]=t[s+r];return a}},{}],9:[function(e,t,n){"use strict";var o=e("@ndhoule/keys"),r=Object.prototype.toString,i="function"==typeof Array.isArray?Array.isArray:function(e){return"[object Array]"===r.call(e)},a=function(e){return null!=e&&(i(e)||"function"!==e&&function(e){var t=typeof e;return"number"===t||"object"===t&&"[object Number]"===r.call(e)}(e.length))},s=function(e,t){for(var n=0;n<t.length&&!1!==e(t[n],n,t);n+=1);},c=function(e,t){for(var n=o(t),r=0;r<n.length&&!1!==e(t[n[r]],n[r],t);r+=1);};t.exports=function(e,t){return(a(t)?s:c).call(this,e,t)}},{"@ndhoule/keys":14}],10:[function(e,t,n){"use strict";var o=e("@ndhoule/each");t.exports=function(e,t){if("function"!=typeof e)throw new TypeError("`predicate` must be a function but was a "+typeof e);var n=!0;return o((function(t,o,r){if(!(n=!!e(t,o,r)))return!1}),t),n}},{"@ndhoule/each":9}],11:[function(e,t,n){"use strict";var o=Object.prototype.hasOwnProperty;t.exports=function(e){for(var t=Array.prototype.slice.call(arguments,1),n=0;n<t.length;n+=1)for(var r in t[n])o.call(t[n],r)&&(e[r]=t[n][r]);return e}},{}],12:[function(e,t,n){"use strict";var o=e("@ndhoule/each");t.exports=function(e,t,n){if("function"!=typeof e)throw new TypeError("Expected a function but received a "+typeof e);return o((function(n,o,r){t=e(t,n,o,r)}),n),t}},{"@ndhoule/each":9}],13:[function(e,t,n){"use strict";var o=e("@ndhoule/each"),r=String.prototype.indexOf;t.exports=function(e,t){var n=!1;return"string"==typeof t?-1!==r.call(t,e):(o((function(t){if((o=t)===(r=e)?0!==o||1/o==1/r:o!=o&&r!=r)return n=!0,!1;var o,r}),t),n)}},{"@ndhoule/each":9}],14:[function(e,t,n){"use strict";var o=Object.prototype.hasOwnProperty,r=String.prototype.charAt,i=Object.prototype.toString,a=function(e,t){return r.call(e,t)},s=function(e,t){return o.call(e,t)},c=function(e,t){t=t||s;for(var n=[],o=0,r=e.length;o<r;o+=1)t(e,o)&&n.push(String(o));return n};t.exports=function(e){return null==e?[]:(t=e,"[object String]"===i.call(t)?c(e,a):function(e){return null!=e&&"function"!=typeof e&&"number"==typeof e.length}(e)?c(e,s):function(e,t){t=t||s;var n=[];for(var o in e)t(e,o)&&n.push(String(o));return n}(e));var t}},{}],15:[function(e,t,n){"use strict";var o=e("@ndhoule/each");t.exports=function(e,t){if("function"!=typeof e)throw new TypeError("Expected a function but received a "+typeof e);var n=[];return o((function(t,o,r){n.push(e(t,o,r))}),t),n}},{"@ndhoule/each":9}],16:[function(e,t,n){"use strict";var o=Object.prototype.toString,r=function(e){return"string"==typeof e||"[object String]"===o.call(e)};t.exports=function(e,t){if(null==t||!function(e){return null!=e&&"object"==typeof e}(t))return{};r(e)&&(e=[e]),function(e){return"[object Array]"===o.call(e)}(e)||(e=[]);for(var n={},i=0;i<e.length;i+=1)r(e[i])&&e[i]in t&&(n[e[i]]=t[e[i]]);return n}},{}],17:[function(e,t,n){"use strict";var o=Math.max;t.exports=function(e){if(null==e||!e.length)return[];for(var t=new Array(o(e.length-2,0)),n=1;n<e.length;n+=1)t[n-1]=e[n];return t}},{}],18:[function(e,t,n){(function(n){"use strict";var o=n.analytics,r=e("segmentio-facade").Alias,i=e("component-emitter"),a=e("segmentio-facade").Group,s=e("segmentio-facade").Identify,c=e("segmentio-facade").Page,u=e("segmentio-facade").Track,p=e("@ndhoule/after"),l=e("bind-all"),d=e("@ndhoule/clone"),f=e("extend"),h=e("./cookie"),m=e("./metrics"),y=e("debug"),g=e("@ndhoule/defaults"),v=e("@ndhoule/each"),b=e("@ndhoule/foldl"),w=e("./group"),_=e("is"),k=e("@segment/is-meta"),j=e("@ndhoule/keys"),x=e("./memory"),E=e("next-tick"),I=e("./normalize"),C=e("component-event").bind,A=e("./pageDefaults"),S=e("@ndhoule/pick"),T=e("@segment/prevent-default"),N=e("component-querystring"),O=e("./store"),z=e("./user"),P=e("component-type");function M(){this._options({}),this.Integrations={},this._integrations={},this._readied=!1,this._timeout=300,this._user=z,this.log=y("analytics.js"),l(this);var e=this;this.on("initialize",(function(t,n){n.initialPageview&&e.page(),e._parseQuery(window.location.search)}))}M.prototype.MAX_URI_LENGTH=8196,i(M.prototype),M.prototype.use=function(e){return e(this),this},M.prototype.addIntegration=function(e){var t=e.prototype.name;if(!t)throw new TypeError("attempted to add an invalid integration");return this.Integrations[t]=e,this},M.prototype.init=M.prototype.initialize=function(e,t){e=e||{},t=t||{},this._options(t),this._readied=!1;var n=this;v((function(t,o){n.Integrations[o]||delete e[o]}),e),v((function(e,o){if(!t.integrations||!1!==t.integrations[o]&&(!1!==t.integrations.All||t.integrations[o])){var r=n.Integrations[o],i={};f(!0,i,e);var a=new r(i);n.log("initialize %o - %o",o,e),n.add(a)}}),e);var o=this._integrations;z.load(),w.load();var r=j(o).length,i=p(r,(function(){n._readied=!0,n.emit("ready")}));return r<=0&&i(),this.failedInitializations=[],v((function(e){t.initialPageview&&!1===e.options.initialPageview&&(e.page=p(2,e.page)),e.analytics=n,e.once("ready",i);try{m.increment("analytics_js.integration.invoke",{method:"initialize",integration_name:e.name}),e.initialize()}catch(t){var o=e.name;m.increment("analytics_js.integration.invoke.error",{method:"initialize",integration_name:e.name}),n.failedInitializations.push(o),n.log("Error initializing %s integration: %o",o,t),e.ready()}}),o),this.initialized=!0,this.emit("initialize",e,t),this},M.prototype.setAnonymousId=function(e){return this.user().anonymousId(e),this},M.prototype.add=function(e){return this._integrations[e.name]=e,this},M.prototype.identify=function(e,t,n,o){_.fn(n)&&(o=n,n=null),_.fn(t)&&(o=t,n=null,t=null),_.object(e)&&(n=t,t=e,e=z.id()),z.identify(e,t);var r=this.normalize({options:n,traits:z.traits(),userId:z.id()});return this.options.integrations&&g(r.integrations,this.options.integrations),this._invoke("identify",new s(r)),this.emit("identify",e,t,n),this._callback(o),this},M.prototype.user=function(){return z},M.prototype.group=function(e,t,n,o){if(!arguments.length)return w;_.fn(n)&&(o=n,n=null),_.fn(t)&&(o=t,n=null,t=null),_.object(e)&&(n=t,t=e,e=w.id()),w.identify(e,t);var r=this.normalize({options:n,traits:w.traits(),groupId:w.id()});return this.options.integrations&&g(r.integrations,this.options.integrations),this._invoke("group",new a(r)),this.emit("group",e,t,n),this._callback(o),this},M.prototype.track=function(e,t,n,o){_.fn(n)&&(o=n,n=null),_.fn(t)&&(o=t,n=null,t=null);var r=this.options.plan||{},i=r.track||{},a={},s=this.normalize({properties:t,options:n,event:e});(r=i[e])?(this.log("plan %o - %o",e,r),a=!1===r.enabled?{All:!1,"Segment.io":!0}:r.integrations||{}):(i.__default||{enabled:!0}).enabled||(a={All:!1,"Segment.io":!0});return g(s.integrations,this._mergeInitializeAndPlanIntegrations(a)),this._invoke("track",new u(s)),this.emit("track",e,t,n),this._callback(o),this},M.prototype.hit=function(e,t,n,o){_.fn(n)&&(o=n,n=null),_.fn(t)&&(o=t,n=null,t=null);var r=this.normalize({properties:t,options:n,event:e});return g(r.integrations,this._mergeInitializeAndPlanIntegrations({})),this._invoke("hit",new u(r)),this.emit("hit",e,t,n),this._callback(o),this},M.prototype.trackClick=M.prototype.trackLink=function(e,t,n){if(!e)return this;"element"===P(e)&&(e=[e]);var o=this;return v((function(e){if("element"!==P(e))throw new TypeError("Must pass HTMLElement to `analytics.trackLink`.");C(e,"click",(function(r){var i=_.fn(t)?t(e):t,a=_.fn(n)?n(e):n,s=e.getAttribute("href")||e.getAttributeNS("http://www.w3.org/1999/xlink","href")||e.getAttribute("xlink:href");o.track(i,a),s&&"_blank"!==e.target&&!k(r)&&(T(r),o._callback((function(){window.location.href=s})))}))}),e),this},M.prototype.trackSubmit=M.prototype.trackForm=function(e,t,n){if(!e)return this;"element"===P(e)&&(e=[e]);var o=this;return v((function(e){if("element"!==P(e))throw new TypeError("Must pass HTMLElement to `analytics.trackForm`.");function r(r){T(r);var i=_.fn(t)?t(e):t,a=_.fn(n)?n(e):n;o.track(i,a),o._callback((function(){e.submit()}))}var i=window.jQuery||window.Zepto;i?i(e).submit(r):C(e,"submit",r)}),e),this},M.prototype.page=function(e,t,n,o,r){_.fn(o)&&(r=o,o=null),_.fn(n)&&(r=n,o=n=null),_.fn(t)&&(r=t,o=n=t=null),"object"===P(e)&&(o=t,n=e,t=e=null),"object"===P(t)&&(o=n,n=t,t=null),"string"===P(e)&&"string"!==P(t)&&(t=e,e=null),n=d(n)||{},t&&(n.name=t),e&&(n.category=e);var i=A();g(n,i);var a=S(j(i),n);_.empty(a)||((o=o||{}).context=o.context||{},o.context.page=a);var s=this.normalize({properties:n,category:e,options:o,name:t});return this.options.integrations&&g(s.integrations,this.options.integrations),this._invoke("page",new c(s)),this.emit("page",e,t,n,o),this._callback(r),this},M.prototype.pageview=function(e){var t={};return e&&(t.path=e),this.page(t),this},M.prototype.alias=function(e,t,n,o){_.fn(n)&&(o=n,n=null),_.fn(t)&&(o=t,n=null,t=null),_.object(t)&&(n=t,t=null);var i=this.normalize({options:n,previousId:t,userId:e});return this.options.integrations&&g(i.integrations,this.options.integrations),this._invoke("alias",new r(i)),this.emit("alias",e,t,n),this._callback(o),this},M.prototype.ready=function(e){return _.fn(e)&&(this._readied?E(e):this.once("ready",e)),this},M.prototype.timeout=function(e){this._timeout=e},M.prototype.debug=function(e){!arguments.length||e?y.enable("analytics:"+(e||"*")):y.disable()},M.prototype._options=function(e){return e=e||{},this.options=e,h.options(e.cookie),m.options(e.metrics),O.options(e.localStorage),z.options(e.user),w.options(e.group),this},M.prototype._callback=function(e){return _.fn(e)&&(this._timeout?setTimeout(e,this._timeout):E(e)),this},M.prototype._invoke=function(e,t){var n=this;m.increment("analytics_js.invoke",{method:e}),this.emit("invoke",t);var o=n.failedInitializations||[];return v((function(r,i){if(t.enabled(i))if(o.indexOf(i)>=0)n.log("Skipping invokation of .%s method of %s integration. Integation failed to initialize properly.",e,i);else try{m.increment("analytics_js.integration.invoke",{method:e,integration_name:r.name}),r.invoke.call(r,e,t)}catch(t){m.increment("analytics_js.integration.invoke.error",{method:e,integration_name:r.name}),n.log("Error invoking .%s method of %s integration: %o",e,i,t)}}),this._integrations),this},M.prototype.push=function(e){var t=e.shift();this[t]&&this[t].apply(this,e)},M.prototype.reset=function(){this.user().logout(),this.group().logout()},M.prototype._parseQuery=function(e){var t=N.parse(e),n=r("ajs_trait_",t),o=r("ajs_prop_",t);return t.ajs_uid&&this.identify(t.ajs_uid,n),t.ajs_event&&this.track(t.ajs_event,o),t.ajs_aid&&z.anonymousId(t.ajs_aid),this;function r(e,t){var n=e.length;return b((function(t,o,r){return r.substr(0,n)===e&&(t[r.substr(n)]=o),t}),{},t)}},M.prototype.normalize=function(e){return(e=I(e,j(this._integrations))).anonymousId&&z.anonymousId(e.anonymousId),e.anonymousId=z.anonymousId(),e.context.page=g(e.context.page||{},A()),e},M.prototype._mergeInitializeAndPlanIntegrations=function(e){if(!this.options.integrations)return e;var t,n=f({},this.options.integrations);for(t in!1===e.All&&(n={All:!1}),e)e.hasOwnProperty(t)&&!1!==this.options.integrations[t]&&(n[t]=e[t]);return n},M.prototype.noConflict=function(){return window.analytics=o,this},M.prototype.hasPayloadLimit=function(e){return this.serializeEventPayload(e).length>=this.MAX_URI_LENGTH},M.prototype.serializeEventPayload=function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n))switch(typeof e[n]){case"string":case"number":t.push(n+"="+e[n]);break;case"object":t.push(this.serializeEventPayload(e[n]))}return t.join("&")},t.exports=M,t.exports.cookie=h,t.exports.memory=x,t.exports.store=O,t.exports.metrics=m}).call(this,"undefined"!=typeof window&&window.document&&window.document.implementation?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{})},{"./cookie":19,"./group":21,"./memory":23,"./metrics":24,"./normalize":25,"./pageDefaults":26,"./store":27,"./user":28,"@ndhoule/after":4,"@ndhoule/clone":6,"@ndhoule/defaults":7,"@ndhoule/each":9,"@ndhoule/foldl":12,"@ndhoule/keys":14,"@ndhoule/pick":16,"@segment/is-meta":47,"@segment/prevent-default":51,"bind-all":56,"component-emitter":61,"component-event":62,"component-querystring":64,"component-type":66,debug:69,extend:72,is:79,"next-tick":90,"segmentio-facade":102}],19:[function(e,t,n){"use strict";var o=e("bind-all"),r=e("@ndhoule/clone"),i=e("component-cookie"),a=e("debug")("analytics.js:cookie"),s=e("@ndhoule/defaults"),c=e("json3"),u=e("@segment/top-domain");function p(e){this.options(e)}p.prototype.options=function(e){if(0===arguments.length)return this._options;e=e||{};var t="."+u(window.location.href);"."===t&&(t=null),this._options=s(e,{maxage:31536e6,path:"/",domain:t}),this.set("ajs:test",!0),this.get("ajs:test")||(a("fallback to domain=null"),this._options.domain=null),this.remove("ajs:test")},p.prototype.set=function(e,t){try{return t=c.stringify(t),i(e,t,r(this._options)),!0}catch(e){return!1}},p.prototype.get=function(e){try{var t=i(e);return t=t?c.parse(t):null}catch(e){return null}},p.prototype.remove=function(e){try{return i(e,null,r(this._options)),!0}catch(e){return!1}},t.exports=o(new p),t.exports.Cookie=p},{"@ndhoule/clone":6,"@ndhoule/defaults":7,"@segment/top-domain":54,"bind-all":56,"component-cookie":58,debug:69,json3:80}],20:[function(e,t,n){"use strict";var o=e("@ndhoule/clone"),r=e("./cookie"),i=e("debug")("analytics:entity"),a=e("@ndhoule/defaults"),s=e("@ndhoule/extend"),c=e("./memory"),u=e("./store"),p=e("@segment/isodate-traverse");function l(e){this.options(e),this.initialize()}t.exports=l,l.prototype.initialize=function(){if(r.set("ajs:cookies",!0),r.get("ajs:cookies"))return r.remove("ajs:cookies"),void(this._storage=r);u.enabled?this._storage=u:(i("warning using memory store both cookies and localStorage are disabled"),this._storage=c)},l.prototype.storage=function(){return this._storage},l.prototype.options=function(e){if(0===arguments.length)return this._options;this._options=a(e||{},this.defaults||{})},l.prototype.id=function(e){switch(arguments.length){case 0:return this._getId();case 1:return this._setId(e)}},l.prototype._getId=function(){var e=this._options.persist?this.storage().get(this._options.cookie.key):this._id;return void 0===e?null:e},l.prototype._setId=function(e){this._options.persist?this.storage().set(this._options.cookie.key,e):this._id=e},l.prototype.properties=l.prototype.traits=function(e){switch(arguments.length){case 0:return this._getTraits();case 1:return this._setTraits(e)}},l.prototype._getTraits=function(){var e=this._options.persist?u.get(this._options.localStorage.key):this._traits;return e?p(o(e)):{}},l.prototype._setTraits=function(e){e=e||{},this._options.persist?u.set(this._options.localStorage.key,e):this._traits=e},l.prototype.identify=function(e,t){t=t||{};var n=this.id();null!==n&&n!==e||(t=s(this.traits(),t)),e&&this.id(e),this.debug("identify %o, %o",e,t),this.traits(t),this.save()},l.prototype.save=function(){return!!this._options.persist&&(r.set(this._options.cookie.key,this.id()),u.set(this._options.localStorage.key,this.traits()),!0)},l.prototype.logout=function(){this.id(null),this.traits({}),r.remove(this._options.cookie.key),u.remove(this._options.localStorage.key)},l.prototype.reset=function(){this.logout(),this.options({})},l.prototype.load=function(){this.id(r.get(this._options.cookie.key)),this.traits(u.get(this._options.localStorage.key))}},{"./cookie":19,"./memory":23,"./store":27,"@ndhoule/clone":6,"@ndhoule/defaults":7,"@ndhoule/extend":11,"@segment/isodate-traverse":48,debug:69}],21:[function(e,t,n){"use strict";var o=e("./entity"),r=e("bind-all"),i=e("debug")("analytics:group"),a=e("inherits");function s(e){this.defaults=s.defaults,this.debug=i,o.call(this,e)}s.defaults={persist:!0,cookie:{key:"ajs_group_id"},localStorage:{key:"ajs_group_properties"}},a(s,o),t.exports=r(new s),t.exports.Group=s},{"./entity":20,"bind-all":56,debug:69,inherits:77}],22:[function(e,t,n){"use strict";var o=new(e("./analytics"));o.require=e,o.VERSION=e("../package.json").version,t.exports=o},{"../package.json":29,"./analytics":18}],23:[function(e,t,n){"use strict";var o=e("bind-all"),r=e("@ndhoule/clone"),i=Object.prototype.hasOwnProperty;function a(){this.store={}}t.exports=o(new a),a.prototype.set=function(e,t){return this.store[e]=r(t),!0},a.prototype.get=function(e){if(i.call(this.store,e))return r(this.store[e])},a.prototype.remove=function(e){return delete this.store[e],!0}},{"@ndhoule/clone":6,"bind-all":56}],24:[function(e,t,n){"use strict";var o=e("bind-all"),r=e("@segment/send-json"),i=e("debug")("analytics.js:metrics");function a(e){this.options(e)}a.prototype.options=function(e){if(e=e||{},this.host=e.host||"api.segment.io/v1",this.sampleRate=e.sampleRate||0,this.flushTimer=e.flushTimer||3e4,this.maxQueueSize=e.maxQueueSize||20,this.queue=[],this.sampleRate>0){var t=this;setInterval((function(){t._flush()}),this.flushTimer)}},a.prototype.increment=function(e,t){Math.random()>this.sampleRate||this.queue.length>=this.maxQueueSize||(this.queue.push({type:"Counter",metric:e,value:1,tags:t}),e.indexOf("error")>0&&this._flush())},a.prototype._flush=function(){if(!(this.queue.length<=0)){var e={series:this.queue};this.queue=[],"xhr"===r.type&&r("https://"+this.host+"/m",e,{"Content-Type":"text/plain"},(function(t,n){i("sent %O, received %O",e,[t,n])}))}},t.exports=o(new a),t.exports.Metrics=a},{"@segment/send-json":52,"bind-all":56,debug:69}],25:[function(e,t,n){"use strict";var o=e("debug")("analytics.js:normalize"),r=e("@ndhoule/defaults"),i=e("@ndhoule/each"),a=e("@ndhoule/includes"),s=e("@ndhoule/map"),c=e("component-type"),u=Object.prototype.hasOwnProperty;t.exports=function(e,t){var n=s((function(e){return e.toLowerCase()}),t),l=e.options||{},d=l.integrations||{},f=l.providers||{},h=l.context||{},m={};return o("<-",e),i((function(e,t){y(t)&&(u.call(d,t)||(d[t]=e),delete l[t])}),l),delete l.providers,i((function(e,t){y(t)&&"object"!==c(d[t])&&(u.call(d,t)&&"boolean"==typeof f[t]||(d[t]=e))}),f),i((function(e,t){a(t,p)?m[t]=l[t]:h[t]=l[t]}),l),delete e.options,m.integrations=d,m.context=h,m=r(m,e),o("->",m),m;function y(e){return!(!a(e,t)&&"all"!==e.toLowerCase()&&!a(e.toLowerCase(),n))}};var p=["integrations","anonymousId","timestamp","context"]},{"@ndhoule/defaults":7,"@ndhoule/each":9,"@ndhoule/includes":13,"@ndhoule/map":15,"component-type":66,debug:69}],26:[function(e,t,n){"use strict";var o=e("@segment/canonical"),r=e("@ndhoule/includes"),i=e("component-url");function a(){var e=o();return e?i.parse(e).pathname:window.location.pathname}function s(e){var t=o();if(t)return r("?",t)?t:t+e;var n=window.location.href,i=n.indexOf("#");return-1===i?n:n.slice(0,i)}t.exports=function(){return{path:a(),referrer:document.referrer,search:location.search,title:document.title,url:s(location.search)}}},{"@ndhoule/includes":13,"@segment/canonical":45,"component-url":67}],27:[function(e,t,n){"use strict";var o=e("bind-all"),r=e("@ndhoule/defaults"),i=e("@segment/store");function a(e){this.options(e)}a.prototype.options=function(e){if(0===arguments.length)return this._options;r(e=e||{},{enabled:!0}),this.enabled=e.enabled&&i.enabled,this._options=e},a.prototype.set=function(e,t){return!!this.enabled&&i.set(e,t)},a.prototype.get=function(e){return this.enabled?i.get(e):null},a.prototype.remove=function(e){return!!this.enabled&&i.remove(e)},t.exports=o(new a),t.exports.Store=a},{"@ndhoule/defaults":7,"@segment/store":53,"bind-all":56}],28:[function(e,t,n){"use strict";var o=e("./entity"),r=e("bind-all"),i=e("./cookie"),a=e("debug")("analytics:user"),s=e("inherits"),c=e("component-cookie"),u=e("uuid");function p(e){this.defaults=p.defaults,this.debug=a,o.call(this,e)}p.defaults={persist:!0,cookie:{key:"ajs_user_id",oldKey:"ajs_user"},localStorage:{key:"ajs_user_traits"}},s(p,o),p.prototype.id=function(e){var t=this._getId(),n=o.prototype.id.apply(this,arguments);return null==t||t!=e&&e&&this.anonymousId(null),n},p.prototype.anonymousId=function(e){var t=this.storage();return arguments.length?(t.set("ajs_anonymous_id",e),this):(e=t.get("ajs_anonymous_id"))?e:(e=c("_sio"))?(e=e.split("----")[0],t.set("ajs_anonymous_id",e),t.remove("_sio"),e):(e=u.v4(),t.set("ajs_anonymous_id",e),t.get("ajs_anonymous_id"))},p.prototype.logout=function(){o.prototype.logout.call(this),this.anonymousId(null)},p.prototype.load=function(){this._loadOldCookie()||o.prototype.load.call(this)},p.prototype._loadOldCookie=function(){var e=i.get(this._options.cookie.oldKey);return!!e&&(this.id(e.id),this.traits(e.traits),i.remove(this._options.cookie.oldKey),!0)},t.exports=r(new p),t.exports.User=p},{"./cookie":19,"./entity":20,"bind-all":56,"component-cookie":58,debug:69,inherits:77,uuid:120}],29:[function(e,t,n){t.exports={_args:[[{raw:"@segment/analytics.js-core@3.6.0",scope:"@segment",escapedName:"@segment%2fanalytics.js-core",name:"@segment/analytics.js-core",rawSpec:"3.6.0",spec:"3.6.0",type:"version"},"/home/circleci/project"]],_from:"@segment/analytics.js-core@3.6.0",_id:"@segment/analytics.js-core@3.6.0",_inCache:!0,_location:"/@segment/analytics.js-core",_nodeVersion:"4.9.1",_npmOperationalInternal:{host:"s3://npm-registry-packages",tmp:"tmp/analytics.js-core_3.6.0_1525912944164_0.8279452315000675"},_npmUser:{name:"segment-admin",email:"tools+npm@segment.com"},_npmVersion:"2.15.11",_phantomChildren:{},_requested:{raw:"@segment/analytics.js-core@3.6.0",scope:"@segment",escapedName:"@segment%2fanalytics.js-core",name:"@segment/analytics.js-core",rawSpec:"3.6.0",spec:"3.6.0",type:"version"},_requiredBy:["#DEV:/"],_resolved:"https://registry.npmjs.org/@segment/analytics.js-core/-/analytics.js-core-3.6.0.tgz",_shasum:"bb355d13f3112ac75d6b99f7b3b0aeb350dfa880",_shrinkwrap:null,_spec:"@segment/analytics.js-core@3.6.0",_where:"/home/circleci/project",author:{name:"Segment",email:"friends@segment.com"},bugs:{url:"https://github.com/segmentio/analytics.js-core/issues"},dependencies:{"@ndhoule/after":"^1.0.0","@ndhoule/clone":"^1.0.0","@ndhoule/defaults":"^2.0.1","@ndhoule/each":"^2.0.1","@ndhoule/extend":"^2.0.0","@ndhoule/foldl":"^2.0.1","@ndhoule/includes":"^2.0.1","@ndhoule/keys":"^2.0.0","@ndhoule/map":"^2.0.1","@ndhoule/pick":"^2.0.0","@segment/canonical":"^1.0.0","@segment/is-meta":"^1.0.0","@segment/isodate":"^1.0.2","@segment/isodate-traverse":"^1.0.1","@segment/prevent-default":"^1.0.0","@segment/send-json":"^3.0.0","@segment/store":"^1.3.20","@segment/top-domain":"^3.0.0","bind-all":"^1.0.0","component-cookie":"^1.1.2","component-emitter":"^1.2.1","component-event":"^0.1.4","component-querystring":"^2.0.0","component-type":"^1.2.1","component-url":"^0.2.1",debug:"^0.7.4",extend:"3.0.1",inherits:"^2.0.1",install:"^0.7.3",is:"^3.1.0",json3:"^3.3.2","new-date":"^1.0.0","next-tick":"^0.2.2","segmentio-facade":"^3.0.2",uuid:"^2.0.2"},description:"The hassle-free way to integrate analytics into any web application.",devDependencies:{"@segment/analytics.js-integration":"^3.2.1","@segment/eslint-config":"^3.1.1",browserify:"13.0.0","compat-trigger-event":"^1.0.0","component-each":"^0.2.6",eslint:"^2.9.0","eslint-plugin-mocha":"^2.2.0","eslint-plugin-require-path-exists":"^1.1.5",jquery:"^3.2.1",karma:"1.3.0","karma-browserify":"^5.0.4","karma-chrome-launcher":"^1.0.1","karma-coverage":"^1.0.0","karma-junit-reporter":"^1.0.0","karma-mocha":"1.0.1","karma-phantomjs-launcher":"^1.0.0","karma-sauce-launcher":"^1.0.0","karma-spec-reporter":"0.0.26",mocha:"^2.2.5","phantomjs-prebuilt":"^2.1.7",proclaim:"^3.4.1",sinon:"^1.7.3",watchify:"^3.7.0"},directories:{},dist:{shasum:"bb355d13f3112ac75d6b99f7b3b0aeb350dfa880",tarball:"https://registry.npmjs.org/@segment/analytics.js-core/-/analytics.js-core-3.6.0.tgz",fileCount:34,unpackedSize:196499,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJa85VwCRA9TVsSAnZWagAAvA8QAJ9mG6auKMgjGJQT+vUF\nMXXTl/5S9QxWCjfihdDEzF1/F66lnbxkdm6htaqY5x8EgrQzkYVWAmqIIyJv\nbtg3tx9klCHbTWDHVLQGLDWnLBHuxKcmi0r4GNTY98SixQ1gbcVeLSXHCVhA\naC+pmV1h8yruzjInyFjk6fN8/NZ3QJYLT11gHVTaqjlW+WyVA1khW6tEDgLk\nrjmnwcj51ye16GUZ3N5iWj+zF02ViFwUzU+/dSJbVgYEUQmzFN/r2HdWYME4\n6FLGhCAHZONLMSzxdKCC1kgcC3DcRzfWAqJiEbTLgwu+YABUBXILGLssn04d\n+EYB+Oarm5CttESFBa9ky15zp3LkM+WLIJzzW3PFEYAeP3yv5BxM2D9cWFlv\nt4z4A7JgFX+o5xuYPrF36+/NyiC1PIBArgKVOmg6t0V+J4QKTG1fXAH4WTsx\nw9PXSrg+CGtNHHgece+i55n7IlbMiHxxbK9mFDA0Pa5SFVyNrT+Wt+O3D7pI\n12JGmAZF4k6gi+MCRU5Mv/c/ZQ5s2G+Y0KlLlrkSaMt8UldmSCExe15mPGZ4\ngMny4CjfLqj4JZAJUOB28gCrTceJQ4KWt47xXRuJecV4TDKGpgxnlzOT/CPb\niwa6O3pKCMuzzktQFL999AQPB+BsyaFbuqYhkiWhfjdEcLsJMRf50kCuBBcQ\n6h8s\r\n=NuQm\r\n-----END PGP SIGNATURE-----\r\n"},gitHead:"77215a1a888752f4b049e2ce35d825f25cf7f0e0",homepage:"https://github.com/segmentio/analytics.js-core#readme",keywords:["analytics","analytics.js","segment","segment.io"],license:"SEE LICENSE IN LICENSE",main:"lib/index.js",maintainers:[{name:"achille-roussel",email:"achille.roussel@gmail.com"},{name:"alan-segment",email:"alan@segment.com"},{name:"albert.segment",email:"albert@segment.com"},{name:"andreiko_ru",email:"mail@andreiko.ru"},{name:"anoonan",email:"amnoonann@gmail.com"},{name:"atrivedi1",email:"akash@segment.com"},{name:"bgamwell",email:"brennan@segment.com"},{name:"boggsboggs",email:"john.boggs@segment.com"},{name:"calvinfo",email:"calvin@calv.info"},{name:"carlosmecha",email:"mecha.carlos@gmail.com"},{name:"ccnixon",email:"chrisnxn@gmail.com"},{name:"chrisbuttery",email:"info@chrisbuttery.com"},{name:"codenameatlas",email:"anavarrete255@gmail.com"},{name:"dfuentes",email:"daniel.richard.fuentes@gmail.com"},{name:"dominicbarnes",email:"dominic@dbarnes.info"},{name:"dscrobonia",email:"davidscrobonia@gmail.com"},{name:"eesegment",email:"eric.ellett@segment.com"},{name:"ejcx",email:"evan@segment.com"},{name:"emilio-gomez-lavin",email:"emilio@segment.com"},{name:"emily.luckette",email:"emily@segment.com"},{name:"erickimsegment",email:"eric@segment.com"},{name:"f2prateek",email:"f2prateek@gmail.com"},{name:"fforres",email:"felipe.torressepulveda@gmail.com"},{name:"gnijor",email:"nijor22@gmail.com"},{name:"hanothan",email:"hankim813@gmail.com"},{name:"ivolo",email:"ilya@segment.io"},{name:"jamesmcguinness",email:"james.mcguinness@segment.com"},{name:"jeroenransijn",email:"jssrdesign@gmail.com"},{name:"jfabre-segment",email:"julien@segment.com"},{name:"jfmaggie",email:"jfmaggie@gmail.com"},{name:"jlee9595",email:"justin@segment.com"},{name:"joeybloggs",email:"dean@segment.com"},{name:"josh_segment",email:"josh@segment.com"},{name:"ladanazita",email:"ladanazita@gmail.com"},{name:"lauramunozjimenez",email:"laura.munoz@segment.com"},{name:"leifdreizler",email:"leifdreizler@gmail.com"},{name:"mag"},{name:"maxence-charriere",email:"charriere@outlook.com"},{name:"monicadamborenea",email:"monica@segment.com"},{name:"msanterre",email:"mooxeh@gmail.com"},{name:"n2parko",email:"kevin@segment.com"},{name:"nettofarah",email:"nettofarah@gmail.com"},{name:"nielst",email:"NTerwiesch@gmail.com"},{name:"notfelineit",email:"notfelineit@gmail.com"},{name:"nzoschke",email:"nzoschke@gmail.com"},{name:"peripheral",email:"peter.h.richmond@gmail.com"},{name:"rarchana2001asu",email:"archana@segment.com"},{name:"rlc4",email:"rickyconnell@gmail.com"},{name:"rowno",email:"rowno@webspirited.com"},{name:"rpaul80",email:"rpaul80@gmail.com"},{name:"sahilp",email:"sahil@segment.com"},{name:"segment-admin",email:"tools+npm@segment.com"},{name:"segment-anastassia",email:"anastassia@segment.com"},{name:"segment-andy-yeo",email:"andy.yeo@segment.com"},{name:"segment-cyammine",email:"chris.yammine@segment.com"},{name:"segment-danielstjules",email:"danielst.jules@segment.com"},{name:"segment-scott",email:"scott@segment.com"},{name:"segment-ulysse",email:"ulysse@segment.com"},{name:"segmentaimee",email:"aimee@segment.com"},{name:"segmentio",email:"tools@segment.com"},{name:"segmentmfischer",email:"michael.fischer@segment.com"},{name:"sperand-io",email:"chris@sperand.io"},{name:"srthurman",email:"srthurman@gmail.com"},{name:"systemizer",email:"robmcqn@gmail.com"},{name:"tamarrow",email:"tamarrow@gmail.com"},{name:"tejasmanohar",email:"me@tejas.io"},{name:"tyson_segment",email:"tyson@segment.com"},{name:"vdemedes",email:"vdemedes@gmail.com"},{name:"willallison",email:"will.allison@segment.com"},{name:"williams-blake",email:"blake@segment.com"},{name:"xagos",email:"xavier.agostini@mail.mcgill.ca"},{name:"yields",email:"yields@icloud.com"}],name:"@segment/analytics.js-core",optionalDependencies:{},readme:"ERROR: No README data found!",repository:{type:"git",url:"git+https://github.com/segmentio/analytics.js-core.git"},scripts:{test:"make test"},version:"3.6.0"}},{}],30:[function(e,t,n){"use strict";var o=e("@segment/analytics.js-integration"),r=e("do-when"),i=t.exports=o("AdWords").option("conversionId","").option("pageRemarketing",!1).option("eventMappings",[]).tag('<script src="//www.googleadservices.com/pagead/conversion_async.js">');i.prototype.initialize=function(){var e=this.loaded,t=this.ready;this.load((function(){r(e,t)}))},i.prototype.loaded=function(){return!(!document.body||!window.google_trackConversion)},i.prototype.page=function(e){var t=this.options.pageRemarketing,n=this.options.conversionId,o=e.properties();window.google_trackConversion({google_conversion_id:n,google_custom_params:{},google_remarketing_only:!1}),t&&window.google_trackConversion({google_conversion_id:n,google_custom_params:o,google_remarketing_only:!0})},i.prototype.track=function(e){var t=this,n=e.properties(),o=this.options.eventMappings,r=e.revenue()||0;o.forEach((function(o){if(o.value){if(o.value.eventName.toLowerCase()!==e.event().toLowerCase())return;var i=o.value.conversionId||t.options.conversionId;""!==o.value.label&&(delete n.revenue,window.google_trackConversion({google_conversion_id:i,google_custom_params:n,google_conversion_language:"en",google_conversion_format:"3",google_conversion_color:"ffffff",google_conversion_label:o.value.label,google_conversion_value:r,google_remarketing_only:!1})),o.value.remarketing&&window.google_trackConversion({google_conversion_id:i,google_custom_params:n,google_remarketing_only:!0})}else{if(o.eventName.toLowerCase()!==e.event().toLowerCase())return;i=o.conversionId||t.options.conversionId,""!==o.label&&(delete n.revenue,window.google_trackConversion({google_conversion_id:i,google_custom_params:n,google_conversion_language:"en",google_conversion_format:"3",google_conversion_color:"ffffff",google_conversion_label:o.label,google_conversion_value:r,google_remarketing_only:!1})),o.remarketing&&window.google_trackConversion({google_conversion_id:i,google_custom_params:n,google_remarketing_only:!0})}}))}},{"@segment/analytics.js-integration":31,"do-when":70}],31:[function(e,t,n){"use strict";var o=e("component-bind"),r=e("@ndhoule/clone"),i=e("debug"),a=e("@ndhoule/defaults"),s=e("@ndhoule/extend"),c=e("slug-component"),u=e("./protos"),p=e("./statics");t.exports=function(e){function t(n){if(n&&n.addIntegration)return n.addIntegration(t);this.debug=i("analytics:integration:"+c(e)),this.options=a(r(n)||{},this.defaults),this._queue=[],this.once("ready",o(this,this.flush)),t.emit("construct",this),this.ready=o(this,this.ready),this._wrapInitialize(),this._wrapPage(),this._wrapTrack()}return t.prototype.defaults={},t.prototype.globals=[],t.prototype.templates={},t.prototype.name=e,s(t,p),s(t.prototype,u),t}},{"./protos":32,"./statics":33,"@ndhoule/clone":6,"@ndhoule/defaults":7,"@ndhoule/extend":11,"component-bind":57,debug:35,"slug-component":108}],32:[function(e,t,n){"use strict";var o=e("component-emitter"),r=e("@ndhoule/after"),i=e("@ndhoule/each"),a=e("analytics-events"),s=e("@ndhoule/every"),c=e("@segment/fmt"),u=e("@ndhoule/foldl"),p=e("is"),l=e("load-iframe"),d=e("@segment/load-script"),f=e("next-tick"),h=e("to-no-case"),m=Object.prototype.hasOwnProperty,y=function(){},g=window.onerror;function v(e){return!!p.object(e)&&(!!p.string(e.key)&&!!m.call(e,"value"))}o(n),n.initialize=function(){var e=this.ready;f(e)},n.loaded=function(){return!1},n.page=function(e){},n.track=function(e){},n.map=function(e,t){var n=h(t),o=function(e){if(p.array(e))return s(v,e)?"mixed":"array";return p.object(e)?"map":"unknown"}(e);return"unknown"===o?[]:u((function(e,t,r){var i,a;return"map"===o&&(i=r,a=t),"array"===o&&(i=t,a=t),"mixed"===o&&(i=t.key,a=t.value),h(i)===n&&e.push(a),e}),[],e)},n.invoke=function(e){if(this[e]){var t=Array.prototype.slice.call(arguments,1);return this._ready?(this.debug("%s with %o",e,t),this[e].apply(this,t)):this.queue(e,t)}},n.queue=function(e,t){if("page"===e&&this._assumesPageview&&!this._initialized)return this.page.apply(this,t);this._queue.push({method:e,args:t})},n.flush=function(){this._ready=!0;var e=this;i((function(t){e[t.method].apply(e,t.args)}),this._queue),this._queue.length=0},n.reset=function(){for(var e=0;e<this.globals.length;e++)window[this.globals[e]]=void 0;window.onerror=g,window.onload=null},n.load=function(e,t,n){"function"==typeof e&&(n=e,t=null,e=null),e&&"object"==typeof e&&(n=t,t=e,e=null),"function"==typeof t&&(n=t,t=null),e=e||"library",t=t||{},t=this.locals(t);var o=this.templates[e];if(!o)throw new Error(c('template "%s" not defined.',e));var r=function(e,t){return u((function(e,n,o){return e[o]=n.replace(/\{\{\ *(\w+)\ *\}\}/g,(function(e,n){return t[n]})),e}),{},e.attrs)}(o,t);n=n||y;var a,s=this;switch(o.type){case"img":r.width=1,r.height=1,a=function(e,t){t=t||function(){};var n=new Image;return n.onerror=function(e,t,n){return function(o){o=o||window.event;var r=new Error(t);r.event=o,r.source=n,e(r)}}(t,"failed to load pixel",n),n.onload=function(){t()},n.src=e.src,n.width=1,n.height=1,n}(r,n);break;case"script":a=d(r,(function(e){if(!e)return n();s.debug('error loading "%s" error="%s"',s.name,e)})),delete r.src,i((function(e,t){a.setAttribute(t,e)}),r);break;case"iframe":a=l(r,n)}return a},n.locals=function(e){e=e||{};var t=Math.floor((new Date).getTime()/36e5);return e.hasOwnProperty("cache")||(e.cache=t),i((function(t,n){e.hasOwnProperty(n)||(e[n]=t)}),this.options),e},n.ready=function(){this.emit("ready")},n._wrapInitialize=function(){var e=this.initialize;this.initialize=function(){this.debug("initialize"),this._initialized=!0;var t=e.apply(this,arguments);return this.emit("initialize"),t},this._assumesPageview&&(this.initialize=r(2,this.initialize))},n._wrapPage=function(){var e=this.page;this.page=function(){return this._assumesPageview&&!this._initialized?this.initialize.apply(this,arguments):e.apply(this,arguments)}},n._wrapTrack=function(){var e=this.track;this.track=function(t){var n,o,r=t.event();for(var i in a)if(m.call(a,i)){var s=a[i];if(!this[i])continue;if(!s.test(r))continue;o=this[i].apply(this,arguments),n=!0;break}return n||(o=e.apply(this,arguments)),o}}},{"@ndhoule/after":4,"@ndhoule/each":9,"@ndhoule/every":10,"@ndhoule/foldl":12,"@segment/fmt":46,"@segment/load-script":50,"analytics-events":34,"component-emitter":61,is:79,"load-iframe":84,"next-tick":90,"to-no-case":112}],33:[function(e,t,n){"use strict";var o=e("component-emitter"),r=e("domify"),i=e("@ndhoule/each"),a=e("@ndhoule/includes");o(n),n.option=function(e,t){return this.prototype.defaults[e]=t,this},n.mapping=function(e){return this.option(e,[]),this.prototype[e]=function(t){return this.map(this.options[e],t)},this},n.global=function(e){return this.prototype.globals.push(e),this},n.assumesPageview=function(){return this.prototype._assumesPageview=!0,this},n.readyOnLoad=function(){return this.prototype._readyOnLoad=!0,this},n.readyOnInitialize=function(){return this.prototype._readyOnInitialize=!0,this},n.tag=function(e,t){return null==t&&(t=e,e="library"),this.prototype.templates[e]=function(e){e=e.replace(' src="',' data-src="');var t=r(e),n={};return i((function(t){var o="data-src"===t.name?"src":t.name;a(t.name+"=",e)&&(n[o]=t.value)}),t.attributes),{type:t.tagName.toLowerCase(),attrs:n}}(t),this}},{"@ndhoule/each":9,"@ndhoule/includes":13,"component-emitter":61,domify:71}],34:[function(e,t,n){t.exports={promotionViewed:/^[ _]?promotion[ _]?viewed?[ _]?$/i,viewedPromotion:/^[ _]?viewed[ _]?promotion?[ _]?$/i,promotionClicked:/^[ _]?promotion[ _]?clicked?[ _]?$/i,clickedPromotion:/^[ _]?clicked[ _]?promotion?[ _]?$/i,productsSearched:/^[ _]?products[ _]?searched[ _]?$/i,productListViewed:/^[ _]?product[ _]?list[ _]?viewed[ _]?$/i,productListFiltered:/^[ _]?product[ _]?list[ _]?filtered[ _]?$/i,viewedProductCategory:/^[ _]?viewed[ _]?product[ _]?category[ _]?$/i,viewedProductDetails:/^[ _]?viewed[ _]?product[ _]?details?[ _]?$/i,productClicked:/^[ _]?product[ _]?clicked[ _]?$/i,clickedProduct:/^[ _]?clicked[ _]?product[ _]?$/i,productViewed:/^[ _]?product[ _]?viewed[ _]?$/i,viewedProduct:/^[ _]?viewed[ _]?product[ _]?$/i,productAdded:/^[ _]?product[ _]?added[ _]?$/i,addedProduct:/^[ _]?added[ _]?product[ _]?$/i,productRemoved:/^[ _]?product[ _]?removed[ _]?$/i,removedProduct:/^[ _]?removed[ _]?product[ _]?$/i,cartViewed:/^[ _]?cart[ _]?viewed[ _]?$/i,orderStarted:/^[ _]?order[ _]?started[ _]?$/i,startedOrder:/^[ _]?started[ _]?order[ _]?$/i,orderUpdated:/^[ _]?order[ _]?updated[ _]?$/i,updatedOrder:/^[ _]?updated[ _]?order[ _]?$/i,orderCompleted:/^[ _]?order[ _]?completed[ _]?$/i,completedOrder:/^[ _]?completed[ _]?order[ _]?$/i,orderRefunded:/^[ _]?order[ _]?refunded[ _]?$/i,refundedOrder:/^[ _]?refunded[ _]?order[ _]?$/i,orderCancelled:/^[ _]?order[ _]?cancelled[ _]?$/i,paymentInfoAdded:/^[ _]?payment[ _]?info[ _]?added[ _]?$/i,checkoutStarted:/^[ _]?checkout[ _]?started[ _]?$/i,checkoutStepViewed:/^[ _]?checkout[ _]?step[ _]?viewed[ _]?$/i,viewedCheckoutStep:/^[ _]?viewed[ _]?checkout[ _]?step[ _]?$/i,checkoutStepCompleted:/^[ _]?checkout[ _]?step[ _]?completed[ _]?$/i,completedCheckoutStep:/^[ _]?completed[ _]?checkout[ _]?step[ _]?$/i,couponEntered:/^[ _]?coupon[ _]?entered[ _]?$/i,couponApplied:/^[ _]?coupon[ _]?applied[ _]?$/i,couponDenied:/^[ _]?coupon[ _]?denied[ _]?$/i,couponRemoved:/^[ _]?coupon[ _]?removed[ _]?$/i,productAddedToWishlist:/^[ _]?product[ _]?added[ _]?to[ _]?wishlist[ _]?$/i,wishlistProductRemoved:/^[ _]?wishlist[ _]?product[ _]?removed[ _]?$/i,wishlistProductAddedToCart:/^[ _]?wishlist[ _]?product[ _]?added[ _]?to[ _]?cart[ _]?$/i,productShared:/^[ _]?product[ _]?shared[ _]?$/i,cartShared:/^[ _]?cart[ _]?shared[ _]?$/i,productRemoved:/^[ _]?product[ _]?removed[ _]?$/i,applicationInstalled:/^[ _]?application[ _]?installed[ _]?$/i,applicationUpdated:/^[ _]?application[ _]?updated[ _]?$/i,applicationOpened:/^[ _]?application[ _]?opened[ _]?$/i,applicationBackgrounded:/^[ _]?application[ _]?backgrounded[ _]?$/i,applicationUninstalled:/^[ _]?application[ _]?uninstalled[ _]?$/i,installAttributed:/^[ _]?install[ _]?attributed[ _]?$/i,deepLinkOpened:/^[ _]?deep[ _]?link[ _]?opened[ _]?$/i,pushNotificationReceived:/^[ _]?push[ _]?notification[ _]?received[ _]?$/i,pushNotificationTapped:/^[ _]?push[ _]?notification[ _]?received[ _]?$/i,pushNotificationBounced:/^[ _]?push[ _]?notification[ _]?bounced[ _]?$/i}},{}],35:[function(e,t,n){(function(o){function r(){var e;try{e=n.storage.debug}catch(e){}return!e&&void 0!==o&&"env"in o&&(e=o.env.DEBUG),e}(n=t.exports=e("./debug")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},n.formatArgs=function(e){var t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return;var o="color: "+this.color;e.splice(1,0,o,"color: inherit");var r=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(i=r))})),e.splice(i,0,o)},n.save=function(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(e){}},n.load=r,n.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},n.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},n.enable(r())}).call(this,e("_process"))},{"./debug":36,_process:93}],36:[function(e,t,n){var o;function r(e){function t(){if(t.enabled){var e=t,r=+new Date,i=r-(o||r);e.diff=i,e.prev=o,e.curr=r,o=r;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=n.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var c=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(t,o){if("%%"===t)return t;c++;var r=n.formatters[o];if("function"==typeof r){var i=a[c];t=r.call(e,i),a.splice(c,1),c--}return t})),n.formatArgs.call(e,a);var u=t.log||n.log||console.log.bind(console);u.apply(e,a)}}return t.namespace=e,t.enabled=n.enabled(e),t.useColors=n.useColors(),t.color=function(e){var t,o=0;for(t in e)o=(o<<5)-o+e.charCodeAt(t),o|=0;return n.colors[Math.abs(o)%n.colors.length]}(e),"function"==typeof n.init&&n.init(t),t}(n=t.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},n.disable=function(){n.enable("")},n.enable=function(e){n.save(e),n.names=[],n.skips=[];for(var t=("string"==typeof e?e:"").split(/[\s,]+/),o=t.length,r=0;r<o;r++)t[r]&&("-"===(e=t[r].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))},n.enabled=function(e){var t,o;for(t=0,o=n.skips.length;t<o;t++)if(n.skips[t].test(e))return!1;for(t=0,o=n.names.length;t<o;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=e("ms"),n.names=[],n.skips=[],n.formatters={}},{ms:85}],37:[function(e,t,n){"use strict";var o=e("@segment/analytics.js-integration"),r=e("@ndhoule/foldl"),i=e("@ndhoule/each"),a=e("reject"),s=e("to-camel-case"),c=e("is"),u=e("dateformat"),p=e("segmentio-facade").Track,l=t.exports=o("Facebook Pixel").global("fbq").option("pixelId","").option("agent","seg").option("valueIdentifier","value").option("initWithExistingTraits",!1).option("traverse",!1).mapping("standardEvents").mapping("legacyEvents").tag('<script src="//connect.facebook.net/en_US/fbevents.js">');function d(e){return Number(e||0).toFixed(2)}l.prototype.initialize=function(){if(window._fbq=function(){window.fbq.callMethod?window.fbq.callMethod.apply(window.fbq,arguments):window.fbq.queue.push(arguments)},window.fbq=window.fbq||window._fbq,window.fbq.push=window.fbq,window.fbq.loaded=!0,window.fbq.disablePushState=!0,window.fbq.allowDuplicatePageViews=!0,window.fbq.agent=this.options.agent,window.fbq.version="2.0",window.fbq.queue=[],this.load(this.ready),this.options.initWithExistingTraits){var e=function(e){var t,n,o,r=e&&e.user().traits();if(!r)return{};if(r.firstName)t=r.firstName,n=r.lastName;else{var i=r.name&&r.name.toLowerCase().split(" ")||[];t=i.shift(),n=i.pop()}r.gender&&c.string(r.gender)&&(o=r.gender.slice(0,1).toLowerCase());var s=r.birthday&&u(r.birthday,"yyyymmdd"),p=r.address||{},l=p.city&&p.city.split(" ").join("").toLowerCase(),d=p.state&&p.state.toLowerCase(),f=p.postalCode;return a({em:r.email,fn:t,ln:n,ph:r.phone,ge:o,db:s,ct:l,st:d,zp:f})}(this.analytics);window.fbq("init",this.options.pixelId,e)}else window.fbq("init",this.options.pixelId)},l.prototype.loaded=function(){return!(!window.fbq||!window.fbq.callMethod)},l.prototype.page=function(){window.fbq("track","PageView")},l.prototype.track=function(e){var t=e.event(),n=d(e.revenue()),o=r((function(e,t,o){if("revenue"===o)return e.value=n,e;return["checkinDate","checkoutDate","departingArrivalDate","departingDepartureDate","returningArrivalDate","returningDepartureDate","travelEnd","travelStart"].indexOf(s(o))>=0&&c.date(t)?(t=t.toISOString().split("T")[0],e[o]=t,e):(e[o]=t,e)}),{},e.properties()),a=this.standardEvents(t),u=this.legacyEvents(t);[].concat(a,u).length?(i((function(t){"Purchase"===t&&(o.currency=e.currency()),window.fbq("track",t,o)}),a),i((function(t){window.fbq("track",t,{currency:e.currency(),value:n})}),u)):window.fbq("trackCustom",t,o)},l.prototype.productListViewed=function(e){window.fbq("track","ViewContent",{content_ids:[e.category()||""],content_type:"product_group"}),i((function(t){window.fbq("track",t,{currency:e.currency(),value:d(e.revenue())})}),this.legacyEvents(e.event()))},l.prototype.productViewed=function(e){window.fbq("track","ViewContent",{content_ids:[e.productId()||e.id()||e.sku()||""],content_type:"product",content_name:e.name()||"",content_category:e.category()||"",currency:e.currency(),value:"value"===this.options.valueIdentifier?d(e.value()):d(e.price())}),i((function(t){window.fbq("track",t,{currency:e.currency(),value:d(e.revenue())})}),this.legacyEvents(e.event()))},l.prototype.productAdded=function(e){window.fbq("track","AddToCart",{content_ids:[e.productId()||e.id()||e.sku()||""],content_type:"product",content_name:e.name()||"",content_category:e.category()||"",currency:e.currency(),value:"value"===this.options.valueIdentifier?d(e.value()):d(e.price())}),i((function(t){window.fbq("track",t,{currency:e.currency(),value:d(e.revenue())})}),this.legacyEvents(e.event()))},l.prototype.orderCompleted=function(e){var t=r((function(e,t){var n=new p({properties:t}),o=n.productId()||n.id()||n.sku();return o&&e.push(o),e}),[],e.products()||[]),n=d(e.revenue());window.fbq("track","Purchase",{content_ids:t,content_type:"product",currency:e.currency(),value:n}),i((function(t){window.fbq("track",t,{currency:e.currency(),value:d(e.revenue())})}),this.legacyEvents(e.event()))}},{"@ndhoule/each":9,"@ndhoule/foldl":12,"@segment/analytics.js-integration":39,dateformat:68,is:79,reject:94,"segmentio-facade":102,"to-camel-case":110}],38:[function(e,t,n){"use strict";var o,r=e("segmentio-facade").Track,i=e("@ndhoule/defaults"),a=e("obj-case"),s=e("component-each"),c=e("@segment/analytics.js-integration"),u=e("is"),p=e("object-component").length,l=e("global-queue")("_gaq"),d=e("reject"),f=e("use-https"),h=e("extend");t.exports=n=function(e){e.addIntegration(m),o=e.user()};var m=n.Integration=c("Google Analytics").readyOnLoad().global("ga").global("gaplugins").global("_gaq").global("GoogleAnalyticsObject").option("anonymizeIp",!1).option("useGoogleAmpClientId",!1).option("classic",!1).option("contentGroupings",{}).option("dimensions",{}).option("domain","auto").option("doubleClick",!1).option("enhancedEcommerce",!1).option("enhancedLinkAttribution",!1).option("ignoredReferrers",null).option("includeSearch",!1).option("setAllMappedProps",!0).option("metrics",{}).option("nonInteraction",!1).option("sendUserId",!1).option("siteSpeedSampleRate",1).option("sampleRate",100).option("trackCategorizedPages",!0).option("trackNamedPages",!0).option("trackingId","").option("optimize","").option("nameTracker",!1).tag("library",'<script src="//www.google-analytics.com/analytics.js">').tag("double click",'<script src="//stats.g.doubleclick.net/dc.js">').tag("http",'<script src="http://www.google-analytics.com/ga.js">').tag("https",'<script src="https://ssl.google-analytics.com/ga.js">');function y(e,t){if(e){var n=e.path;return t.includeSearch&&e.search&&(n+=e.search),n}}function g(e,t,n){var o={},r=b(e,t);if(p(r)){if(!t.setAllMappedProps)return s(r,(function(e,t){o[e]=t})),o;window.ga(n+"set",r)}}function v(e){return!e||e<0?0:Math.round(e)}function b(e,t){var n=t.dimensions,o=t.metrics,r=t.contentGroupings,i={};return s([o,n,r],(function(t){s(t,(function(t,n){var o=a(e,t)||e[t];u.bool(o)&&(o=o.toString()),(o||0===o)&&(i[n]=o)}))})),i}function w(e,t,n){var o=e.properties(),r={id:e.productId()||e.id()||e.sku(),name:e.name(),category:e.category(),quantity:e.quantity(),price:e.price(),brand:o.brand,variant:o.variant,currency:e.currency()};null!=o.position&&(r.position=Math.round(o.position));var i=e.proxy("properties.coupon");i&&(r.coupon=i),r=h(r,b(o,n)),window.ga(t+"ec:addProduct",r)}function _(e,t,n,o,r){w(e,o,r),window.ga(o+"ec:setAction",t,n||{})}function k(e){var t=[e.paymentMethod,e.shippingMethod],n=d(t);return n.length>0?n.join(", "):null}function j(e,t){return t.currency=t.currency||e.currency(),new r({properties:t})}m.on("construct",(function(e){e.options.classic?(e.initialize=e.initializeClassic,e.loaded=e.loadedClassic,e.page=e.pageClassic,e.track=e.trackClassic,e.orderCompleted=e.completedOrderClassic):e.options.enhancedEcommerce&&(e.productViewed=e.productViewedEnhanced,e.productClicked=e.productClickedEnhanced,e.productAdded=e.productAddedEnhanced,e.productRemoved=e.productRemovedEnhanced,e.checkoutStarted=e.checkoutStartedEnhanced,e.checkoutStepViewed=e.checkoutStepViewedEnhanced,e.checkoutStepCompleted=e.checkoutStepCompletedEnhanced,e.orderUpdated=e.orderUpdatedEnhanced,e.orderCompleted=e.orderCompletedEnhanced,e.orderRefunded=e.orderRefundedEnhanced,e.promotionViewed=e.promotionViewedEnhanced,e.promotionClicked=e.promotionClickedEnhanced,e.productListViewed=e.productListViewedEnhanced,e.productListFiltered=e.productListFilteredEnhanced)})),m.prototype.MAX_URI_LENGTH=8196,m.prototype.initialize=function(){this.pageCalled=!1;var e=this.options;window.GoogleAnalyticsObject="ga",window.ga=window.ga||function(){window.ga.q=window.ga.q||[],window.ga.q.push(arguments)},window.ga.l=(new Date).getTime(),"localhost"===window.location.hostname&&(e.domain="none");var t={cookieDomain:e.domain||m.prototype.defaults.domain,siteSpeedSampleRate:e.siteSpeedSampleRate,sampleRate:e.sampleRate,allowLinker:!0,useGoogleAmpClientId:e.useGoogleAmpClientId};e.nameTracker?(t.name="segmentGATracker",this._trackerName="segmentGATracker."):this._trackerName="",window.ga("create",e.trackingId,t),e.optimize&&window.ga(this._trackerName+"require",e.optimize),e.doubleClick&&window.ga(this._trackerName+"require","displayfeatures"),e.enhancedLinkAttribution&&window.ga(this._trackerName+"require","linkid","linkid.js"),e.sendUserId&&o.id()&&window.ga(this._trackerName+"set","userId",o.id()),e.anonymizeIp&&window.ga(this._trackerName+"set","anonymizeIp",!0);var n=o.traits();o.id()&&(n.id=o.id());var r=b(n,e);p(r)&&window.ga(this._trackerName+"set",r),this.load("library",this.ready)},m.prototype.loaded=function(){return!!window.gaplugins},m.prototype.page=function(e){var t,n=e.category(),o=e.properties(),r=e.fullName(),i=this.options,a=e.proxy("context.campaign")||{},s={},c=y(o,this.options),u=r||o.title,p=e.referrer()||"";this._category=n,s.page=c,s.title=u,s.location=o.url,a.name&&(s.campaignName=a.name),a.source&&(s.campaignSource=a.source),a.medium&&(s.campaignMedium=a.medium),a.content&&(s.campaignContent=a.content),a.term&&(s.campaignKeyword=a.term);var l={page:c,title:u};s=h(s,g(o,i,this._trackerName)),p!==document.referrer&&(l.referrer=p),window.ga(this._trackerName+"set",l),this.pageCalled&&delete s.location,window.ga(this._trackerName+"send","pageview",s),n&&this.options.trackCategorizedPages&&(t=e.track(n),this.track(t,{nonInteraction:1})),r&&this.options.trackNamedPages&&(t=e.track(r),this.track(t,{nonInteraction:1})),this.pageCalled=!0},m.prototype.identify=function(e){var t=this.options;t.sendUserId&&e.userId()&&window.ga(this._trackerName+"set","userId",e.userId());var n=b(e.traits(),t);p(n)&&window.ga(this._trackerName+"set",n)},m.prototype.track=function(e,t){var n=e.options(this.name),o=this.options,r=i(t||{},n);r=i(r,o);var a=e.properties(),s=e.proxy("context.campaign")||{},c={eventAction:e.event(),eventCategory:e.category()||this._category||"All",eventLabel:a.label,eventValue:v(a.value||e.revenue()),nonInteraction:void 0!==a.nonInteraction?!!a.nonInteraction:!!r.nonInteraction};s.name&&(c.campaignName=s.name),s.source&&(c.campaignSource=s.source),s.medium&&(c.campaignMedium=s.medium),s.content&&(c.campaignContent=s.content),s.term&&(c.campaignKeyword=s.term),c=h(c,g(a,o,this._trackerName)),window.ga(this._trackerName+"send","event",c)},m.prototype.hit=function(e,t){var n=e.options(this.name),o=this.options,r=i(t||{},n);r=i(r,o);var a=e.properties(),s={nonInteraction:void 0!==a.nonInteraction?!!a.nonInteraction:!!r.nonInteraction};s=h(s,a,g(o,this._trackerName)),window.ga("send",e.event(),s)},m.prototype.orderCompleted=function(e){var t=e.total()||e.revenue()||0,n=e.orderId(),o=e.products(),r=e.properties(),i=this;n&&(this.ecommerce||(window.ga(this._trackerName+"require","ecommerce"),this.ecommerce=!0),window.ga(this._trackerName+"ecommerce:addTransaction",{affiliation:r.affiliation,shipping:e.shipping(),revenue:t,tax:e.tax(),id:n,currency:e.currency()}),s(o,(function(t){var o=j(e,t);window.ga(i._trackerName+"ecommerce:addItem",{category:o.category(),quantity:o.quantity(),price:o.price(),name:o.name(),sku:o.sku(),id:n,currency:o.currency()})})),window.ga(this._trackerName+"ecommerce:send"))},m.prototype.initializeClassic=function(){var e=this.options,t=e.anonymizeIp,n=e.domain,o=e.enhancedLinkAttribution,r=e.ignoredReferrers,i=e.siteSpeedSampleRate;if(window._gaq=window._gaq||[],l("_setAccount",e.trackingId),l("_setAllowLinker",!0),t&&l("_gat._anonymizeIp"),n&&l("_setDomainName",n),i&&l("_setSiteSpeedSampleRate",i),o){var a="https:"===document.location.protocol?"https:":"http:";l("_require","inpage_linkid",a+"//www.google-analytics.com/plugins/ga/inpage_linkid.js")}if(r&&(u.array(r)||(r=[r]),s(r,(function(e){l("_addIgnoredRef",e)}))),this.options.doubleClick)this.load("double click",this.ready);else{var c=f()?"https":"http";this.load(c,this.ready)}},m.prototype.loadedClassic=function(){return!(!window._gaq||window._gaq.push===Array.prototype.push)},m.prototype.pageClassic=function(e){var t,n=e.category(),o=e.properties(),r=e.fullName();l("_trackPageview",y(o,this.options)),n&&this.options.trackCategorizedPages&&(t=e.track(n),this.track(t,{nonInteraction:1})),r&&this.options.trackNamedPages&&(t=e.track(r),this.track(t,{nonInteraction:1}))},m.prototype.trackClassic=function(e,t){var n=t||e.options(this.name),o=e.properties(),r=e.revenue(),i=e.event(),a=this._category||e.category()||"All",s=o.label,c=v(r||o.value),u=!(!o.nonInteraction&&!n.nonInteraction);l("_trackEvent",a,i,s,c,u)},m.prototype.completedOrderClassic=function(e){var t=e.total()||e.revenue()||0,n=e.orderId(),o=e.products()||[],i=e.properties(),a=e.currency();n&&(l("_addTrans",n,i.affiliation,t,e.tax(),e.shipping(),e.city(),e.state(),e.country()),s(o,(function(e){var t=new r({properties:e});l("_addItem",n,t.sku(),t.name(),t.category(),t.price(),t.quantity())})),l("_set","currencyCode",a),l("_trackTrans"))},m.prototype.loadEnhancedEcommerce=function(e){this.enhancedEcommerceLoaded||(window.ga(this._trackerName+"require","ec"),this.enhancedEcommerceLoaded=!0),window.ga(this._trackerName+"set","&cu",e.currency())},m.prototype.pushEnhancedEcommerce=function(e,t,n){var o=d([this._trackerName+"send","event",e.category()||"EnhancedEcommerce",e.event()||"Action not defined",e.properties().label,h({nonInteraction:1},g(e.properties(),t,n))]);window.ga.apply(window,o)},m.prototype.checkoutStartedEnhanced=function(e){this.checkoutStepViewed(e)},m.prototype.orderUpdatedEnhanced=function(e){this.checkoutStartedEnhanced(e)},m.prototype.checkoutStepViewedEnhanced=function(e){var t=e.products(),n=e.properties(),o=k(n),r=this,i=this.options;this.loadEnhancedEcommerce(e),s(t,(function(t){w(j(e,t),r._trackerName,i)})),window.ga(r._trackerName+"ec:setAction","checkout",{step:n.step||1,option:o||void 0}),this.pushEnhancedEcommerce(e,i,r._trackerName)},m.prototype.checkoutStepCompletedEnhanced=function(e){var t=e.properties(),n=k(t);t.step&&n&&(this.loadEnhancedEcommerce(e),window.ga(this._trackerName+"ec:setAction","checkout_option",{step:t.step||1,option:n}),window.ga(this._trackerName+"send","event","Checkout","Option"))},m.prototype.orderCompletedEnhanced=function(e){var t=e.total()||e.revenue()||0,n=e.orderId(),o=e.products(),r=e.properties(),i=this.options,a=this;n&&(this.loadEnhancedEcommerce(e),s(o,(function(t){w(j(e,t),a._trackerName,i)})),window.ga(a._trackerName+"ec:setAction","purchase",{id:n,affiliation:r.affiliation,revenue:t,tax:e.tax(),shipping:e.shipping(),coupon:e.coupon()}),this.pushEnhancedEcommerce(e,i,a._trackerName))},m.prototype.orderRefundedEnhanced=function(e){var t=e.orderId(),n=e.products(),o=this,i=this.options;t&&(this.loadEnhancedEcommerce(e),s(n,(function(e){var t=new r({properties:e});window.ga(o._trackerName+"ec:addProduct",{id:t.productId()||t.id()||t.sku(),quantity:t.quantity()})})),window.ga(o._trackerName+"ec:setAction","refund",{id:t}),this.pushEnhancedEcommerce(e,i,o._trackerName))},m.prototype.productAddedEnhanced=function(e){var t=this.options;this.loadEnhancedEcommerce(e),_(e,"add",null,this._trackerName,t),this.pushEnhancedEcommerce(e,t,this._trackerName)},m.prototype.productRemovedEnhanced=function(e){var t=this.options;this.loadEnhancedEcommerce(e),_(e,"remove",null,this._trackerName,t),this.pushEnhancedEcommerce(e,t,this._trackerName)},m.prototype.productViewedEnhanced=function(e){var t=e.properties(),n={},o=this.options;this.loadEnhancedEcommerce(e),t.list&&(n.list=t.list),_(e,"detail",n,this._trackerName,o),this.pushEnhancedEcommerce(e,o,this._trackerName)},m.prototype.productClickedEnhanced=function(e){var t=e.properties(),n={},o=this.options;this.loadEnhancedEcommerce(e),t.list&&(n.list=t.list),_(e,"click",n,this._trackerName,o),this.pushEnhancedEcommerce(e,o,this._trackerName)},m.prototype.promotionViewedEnhanced=function(e){var t=e.properties(),n=this.options;this.loadEnhancedEcommerce(e),window.ga(this._trackerName+"ec:addPromo",{id:e.promotionId()||e.id(),name:e.name(),creative:t.creative,position:t.position}),this.pushEnhancedEcommerce(e,n,this._trackerName)},m.prototype.promotionClickedEnhanced=function(e){var t=e.properties(),n=this.options;this.loadEnhancedEcommerce(e),window.ga(this._trackerName+"ec:addPromo",{id:e.promotionId()||e.id(),name:e.name(),creative:t.creative,position:t.position}),window.ga(this._trackerName+"ec:setAction","promo_click",{}),this.pushEnhancedEcommerce(e,n,this._trackerName)},m.prototype.productListViewedEnhanced=function(e){var t=e.properties(),n=e.products(),o=this,i=this.options;this.loadEnhancedEcommerce(e),s(n,(function(i){var a=new r({properties:i});if(a.productId()||a.sku()||a.name()){var s={id:a.productId()||a.sku(),name:a.name(),category:a.category()||e.category(),list:t.list_id||e.category()||"products",brand:a.properties().brand,variant:a.properties().variant,price:a.price(),position:n.map((function(e){return e.product_id})).indexOf(a.productId())+1};for(var c in s)void 0===s[c]&&delete s[c];window.ga(o._trackerName+"ec:addImpression",s)}})),this.pushEnhancedEcommerce(e,i,o._trackerName)},m.prototype.productListFilteredEnhanced=function(e){var t=e.properties(),n=e.products();t.filters=t.filters||[],t.sorters=t.sorters||[];var o=t.filters.map((function(e){return e.type+":"+e.value})).join(),i=t.sorts.map((function(e){return e.type+":"+e.value})).join(),a=this,c=this.options;this.loadEnhancedEcommerce(e),s(n,(function(s){var c=new r({properties:s});if(c.productId()||c.sku()||c.name()){var u={id:c.productId()||c.sku(),name:c.name(),category:c.category()||e.category(),list:t.list_id||e.category()||"search results",brand:c.properties().brand,variant:o+"::"+i,price:c.price(),position:n.map((function(e){return e.product_id})).indexOf(c.productId())+1};for(var p in u)void 0===u[p]&&delete u[p];window.ga(a._trackerName+"ec:addImpression",u)}})),this.pushEnhancedEcommerce(e,c,a._trackerName)}},{"@ndhoule/defaults":7,"@segment/analytics.js-integration":39,"component-each":59,extend:72,"global-queue":73,is:79,"obj-case":91,"object-component":92,reject:94,"segmentio-facade":102,"use-https":117}],39:[function(e,t,n){"use strict";var o=e("component-bind"),r=e("debug"),i=e("@ndhoule/defaults"),a=e("extend"),s=e("slug-component"),c=e("./protos"),u=e("./statics");t.exports=function(e){function t(n){if(n&&n.addIntegration)return n.addIntegration(t);this.debug=r("analytics:integration:"+s(e));var c={};a(!0,c,n),this.options=i(c||{},this.defaults),this._queue=[],this.once("ready",o(this,this.flush)),t.emit("construct",this),this.ready=o(this,this.ready),this._wrapInitialize(),this._wrapPage(),this._wrapTrack()}return t.prototype.defaults={},t.prototype.globals=[],t.prototype.templates={},t.prototype.name=e,a(t,u),a(t.prototype,c),t}},{"./protos":40,"./statics":41,"@ndhoule/defaults":7,"component-bind":57,debug:42,extend:72,"slug-component":108}],40:[function(e,t,n){"use strict";var o=e("component-emitter"),r=e("@ndhoule/after"),i=e("@ndhoule/each"),a=e("analytics-events"),s=e("@ndhoule/every"),c=e("@segment/fmt"),u=e("@ndhoule/foldl"),p=e("is"),l=e("load-iframe"),d=e("@segment/load-script"),f=e("next-tick"),h=e("to-no-case"),m=Object.prototype.hasOwnProperty,y=function(){},g=window.onerror;function v(e){return!!p.object(e)&&(!!p.string(e.key)&&!!m.call(e,"value"))}o(n),n.initialize=function(){var e=this.ready;f(e)},n.loaded=function(){return!1},n.page=function(e){},n.track=function(e){},n.map=function(e,t){var n=h(t),o=function(e){if(p.array(e))return s(v,e)?"mixed":"array";return p.object(e)?"map":"unknown"}(e);return"unknown"===o?[]:u((function(e,t,r){var i,a;return"map"===o&&(i=r,a=t),"array"===o&&(i=t,a=t),"mixed"===o&&(i=t.key,a=t.value),h(i)===n&&e.push(a),e}),[],e)},n.invoke=function(e){if(this[e]){var t=Array.prototype.slice.call(arguments,1);return this._ready?(this.debug("%s with %o",e,t),this[e].apply(this,t)):this.queue(e,t)}},n.queue=function(e,t){this._queue.push({method:e,args:t})},n.flush=function(){this._ready=!0;var e=this;i((function(t){e[t.method].apply(e,t.args)}),this._queue),this._queue.length=0},n.reset=function(){for(var e=0;e<this.globals.length;e++)window[this.globals[e]]=void 0;window.onerror=g,window.onload=null},n.load=function(e,t,n){"function"==typeof e&&(n=e,t=null,e=null),e&&"object"==typeof e&&(n=t,t=e,e=null),"function"==typeof t&&(n=t,t=null),e=e||"library",t=t||{},t=this.locals(t);var o=this.templates[e];if(!o)throw new Error(c('template "%s" not defined.',e));var r=function(e,t){return u((function(e,n,o){return e[o]=n.replace(/\{\{\ *(\w+)\ *\}\}/g,(function(e,n){return t[n]})),e}),{},e.attrs)}(o,t);n=n||y;var a,s=this;switch(o.type){case"img":r.width=1,r.height=1,a=function(e,t){t=t||function(){};var n=new Image;return n.onerror=function(e,t,n){return function(o){o=o||window.event;var r=new Error(t);r.event=o,r.source=n,e(r)}}(t,"failed to load pixel",n),n.onload=function(){t()},n.src=e.src,n.width=1,n.height=1,n}(r,n);break;case"script":a=d(r,(function(e){if(!e)return n();s.debug('error loading "%s" error="%s"',s.name,e)})),delete r.src,i((function(e,t){a.setAttribute(t,e)}),r);break;case"iframe":a=l(r,n)}return a},n.locals=function(e){e=e||{};var t=Math.floor((new Date).getTime()/36e5);return e.hasOwnProperty("cache")||(e.cache=t),i((function(t,n){e.hasOwnProperty(n)||(e[n]=t)}),this.options),e},n.ready=function(){this.emit("ready")},n._wrapInitialize=function(){var e=this.initialize;this.initialize=function(){this.debug("initialize"),this._initialized=!0;var t=e.apply(this,arguments);return this.emit("initialize"),t}},n._wrapPage=function(){if(this._assumesPageview)return this.page=r(2,this.page)},n._wrapTrack=function(){var e=this.track;this.track=function(t){var n,o,r=t.event();for(var i in a)if(m.call(a,i)){var s=a[i];if(!this[i])continue;if(!s.test(r))continue;o=this[i].apply(this,arguments),n=!0;break}return n||(o=e.apply(this,arguments)),o}}},{"@ndhoule/after":4,"@ndhoule/each":9,"@ndhoule/every":10,"@ndhoule/foldl":12,"@segment/fmt":46,"@segment/load-script":50,"analytics-events":55,"component-emitter":61,is:79,"load-iframe":84,"next-tick":90,"to-no-case":112}],41:[function(e,t,n){"use strict";var o=e("component-emitter"),r=e("domify"),i=e("@ndhoule/each"),a=e("@ndhoule/includes");o(n),n.option=function(e,t){return this.prototype.defaults[e]=t,this},n.mapping=function(e){return this.option(e,[]),this.prototype[e]=function(t){return this.map(this.options[e],t)},this},n.global=function(e){return this.prototype.globals.push(e),this},n.assumesPageview=function(){return this.prototype._assumesPageview=!0,this},n.readyOnLoad=function(){return this.prototype._readyOnLoad=!0,this},n.readyOnInitialize=function(){return this.prototype._readyOnInitialize=!0,this},n.tag=function(e,t){return null==t&&(t=e,e="library"),this.prototype.templates[e]=function(e){e=e.replace(' src="',' data-src="');var t=r(e),n={};return i((function(t){var o="data-src"===t.name?"src":t.name;a(t.name+"=",e)&&(n[o]=t.value)}),t.attributes),{type:t.tagName.toLowerCase(),attrs:n}}(t),this}},{"@ndhoule/each":9,"@ndhoule/includes":13,"component-emitter":61,domify:71}],42:[function(e,t,n){arguments[4][35][0].apply(n,arguments)},{"./debug":43,_process:93,dup:35}],43:[function(e,t,n){arguments[4][36][0].apply(n,arguments)},{dup:36,ms:85}],44:[function(e,t,n){var o=e("utf8-encode"),r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.exports=function(e){var t,n,i,a,s,c,u,p="",l=0;e=o(e);for(;l<e.length;)t=e.charCodeAt(l++),n=e.charCodeAt(l++),i=e.charCodeAt(l++),a=t>>2,s=(3&t)<<4|n>>4,c=(15&n)<<2|i>>6,u=63&i,isNaN(n)?c=u=64:isNaN(i)&&(u=64),p=p+r.charAt(a)+r.charAt(s)+r.charAt(c)+r.charAt(u);return p}},{"utf8-encode":118}],45:[function(e,t,n){"use strict";t.exports=function(){for(var e,t=document.getElementsByTagName("link"),n=0;e=t[n];n++)if("canonical"===e.getAttribute("rel"))return e.getAttribute("href")}},{}],46:[function(e,t,n){(function(e){"use strict";var n=e.JSON&&"function"==typeof JSON.stringify?JSON.stringify:String;function o(e){var t=Array.prototype.slice.call(arguments,1),n=0;return e.replace(/%([a-z])/gi,(function(e,r){return o[r]?o[r](t[n++]):e+r}))}o.o=n,o.s=String,o.d=parseInt,t.exports=o}).call(this,"undefined"!=typeof window&&window.document&&window.document.implementation?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{})},{}],47:[function(e,t,n){"use strict";t.exports=function(e){if(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)return!0;var t=e.which,n=e.button;return t||void 0===n?2===t:1&!n&&2&!n&&4&n}},{}],48:[function(e,t,n){"use strict";var o=e("component-type"),r=e("component-each"),i=e("@segment/isodate");function a(e,t){return void 0===t&&(t=!0),"object"===o(e)?function(e,t){e.length&&"number"==typeof e.length&&!(e.length-1 in e)&&(e.lengthNonArray=e.length,delete e.length);r(e,(function(n,r){i.is(r,t)?e[n]=i.parse(r):"object"!==o(r)&&"array"!==o(r)||a(r,t)})),e.lengthNonArray&&(e.length=e.lengthNonArray,delete e.lengthNonArray);return e}(e,t):"array"===o(e)?function(e,t){return r(e,(function(n,r){"object"===o(n)?a(n,t):i.is(n,t)&&(e[r]=i.parse(n))})),e}(e,t):e}t.exports=a},{"@segment/isodate":49,"component-each":59,"component-type":66}],49:[function(e,t,n){"use strict";var o=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;n.parse=function(e){var t=[1,5,6,7,11,12],n=o.exec(e),r=0;if(!n)return new Date(e);for(var i,a=0;i=t[a];a++)n[i]=parseInt(n[i],10)||0;n[2]=parseInt(n[2],10)||1,n[3]=parseInt(n[3],10)||1,n[2]--,n[8]=n[8]?(n[8]+"00").substring(0,3):0," "===n[4]?r=(new Date).getTimezoneOffset():"Z"!==n[9]&&n[10]&&(r=60*n[11]+n[12],"+"===n[10]&&(r=0-r));var s=Date.UTC(n[1],n[2],n[3],n[5],n[6]+r,n[7],n[8]);return new Date(s)},n.is=function(e,t){return"string"==typeof e&&((!t||!1!==/^\d{4}-\d{2}-\d{2}/.test(e))&&o.test(e))}},{}],50:[function(e,t,n){"use strict";var o=e("script-onload"),r=e("next-tick"),i=e("component-type");t.exports=function(e,t){if(!e)throw new Error("Can't load nothing...");"string"===i(e)&&(e={src:e});var n="https:"===document.location.protocol||"chrome-extension:"===document.location.protocol;e.src&&0===e.src.indexOf("//")&&(e.src=(n?"https:":"http:")+e.src),n&&e.https?e.src=e.https:!n&&e.http&&(e.src=e.http);var a=document.createElement("script");return a.type="text/javascript",a.async=!0,a.src=e.src,"function"===i(t)&&o(a,t),r((function(){var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(a,e)})),a}},{"component-type":66,"next-tick":90,"script-onload":95}],51:[function(e,t,n){"use strict";t.exports=function(e){return(e=e||window.event).preventDefault?e.preventDefault():e.returnValue=!1}},{}],52:[function(e,t,n){"use strict";var o=e("json3"),r=e("@segment/base64-encode"),i=e("has-cors"),a=e("jsonp");function s(e,t,n,r){3===arguments.length&&(r=n,n={});var i=new XMLHttpRequest;for(var a in i.onerror=r,i.onreadystatechange=s,i.open("POST",e,!0),n)i.setRequestHeader(a,n[a]);function s(){if(4===i.readyState)return r(null,i)}i.send(o.stringify(t))}function c(e,t,o,r){3===arguments.length&&(r=o);var i=n.prefix,s=u(t);a(e+="?"+i+"="+s,{param:n.callback},(function(t,n){if(t)return r(t);r(null,{url:e,body:n})}))}function u(e){var t="";return t=o.stringify(e),t=(t=r(t)).replace(/\+/g,"-").replace(/\//g,"_"),encodeURIComponent(t)}(n=t.exports=i?s:c).callback="callback",n.prefix="data",n.json=s,n.base64=c,n.type=i?"xhr":"jsonp"},{"@segment/base64-encode":44,"has-cors":76,json3:80,jsonp:81}],53:[function(e,t,n){(function(n){"use strict";var o=e("json3");t.exports=function(){var e,t={},r="undefined"!=typeof window?window:n,i=r.document;if(t.disabled=!1,t.version="1.3.20",t.set=function(e,t){},t.get=function(e,t){},t.has=function(e){return void 0!==t.get(e)},t.remove=function(e){},t.clear=function(){},t.transact=function(e,n,o){null==o&&(o=n,n=null),null==n&&(n={});var r=t.get(e,n);o(r),t.set(e,r)},t.getAll=function(){var e={};return t.forEach((function(t,n){e[t]=n})),e},t.forEach=function(){},t.serialize=function(e){return o.stringify(e)},t.deserialize=function(e){if("string"==typeof e)try{return o.parse(e)}catch(t){return e||void 0}},function(){try{return"localStorage"in r&&r.localStorage}catch(e){return!1}}())e=r.localStorage,t.set=function(n,o){return void 0===o?t.remove(n):(e.setItem(n,t.serialize(o)),o)},t.get=function(n,o){var r=t.deserialize(e.getItem(n));return void 0===r?o:r},t.remove=function(t){e.removeItem(t)},t.clear=function(){e.clear()},t.forEach=function(n){for(var o=0;o<e.length;o++){var r=e.key(o);n(r,t.get(r))}};else if(i&&i.documentElement.addBehavior){var a,s;try{(s=new ActiveXObject("htmlfile")).open(),s.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></iframe>'),s.close(),a=s.w.frames[0].document,e=a.createElement("div")}catch(t){e=i.createElement("div"),a=i.body}var c=function(n){return function(){var o=Array.prototype.slice.call(arguments,0);o.unshift(e),a.appendChild(e),e.addBehavior("#default#userData"),e.load("localStorage");var r=n.apply(t,o);return a.removeChild(e),r}},u=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),p=function(e){return e.replace(/^d/,"___$&").replace(u,"___")};t.set=c((function(e,n,o){return n=p(n),void 0===o?t.remove(n):(e.setAttribute(n,t.serialize(o)),e.save("localStorage"),o)})),t.get=c((function(e,n,o){n=p(n);var r=t.deserialize(e.getAttribute(n));return void 0===r?o:r})),t.remove=c((function(e,t){t=p(t),e.removeAttribute(t),e.save("localStorage")})),t.clear=c((function(e){var t=e.XMLDocument.documentElement.attributes;e.load("localStorage");for(var n=t.length-1;n>=0;n--)e.removeAttribute(t[n].name);e.save("localStorage")})),t.forEach=c((function(e,n){for(var o,r=e.XMLDocument.documentElement.attributes,i=0;o=r[i];++i)n(o.name,t.deserialize(e.getAttribute(o.name)))}))}try{var l="__storejs__";t.set(l,l),t.get(l)!=l&&(t.disabled=!0),t.remove(l)}catch(e){t.disabled=!0}return t.enabled=!t.disabled,t}()}).call(this,"undefined"!=typeof window&&window.document&&window.document.implementation?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{})},{json3:80}],54:[function(e,t,n){"use strict";var o=e("component-url").parse,r=e("component-cookie");function i(e){for(var t=n.cookie,o=n.levels(e),r=0;r<o.length;++r){var i=o[r],a={domain:"."+i};if(t("__tld__",1,a),t("__tld__"))return t("__tld__",null,a),i}return""}i.levels=function(e){var t=o(e).hostname.split("."),n=t[t.length-1],r=[];if(4===t.length&&n===parseInt(n,10))return r;if(t.length<=1)return r;for(var i=t.length-2;i>=0;--i)r.push(t.slice(i).join("."));return r},i.cookie=r,n=t.exports=i},{"component-cookie":58,"component-url":67}],55:[function(e,t,n){"use strict";var o=e("@ndhoule/map"),r=e("@ndhoule/foldl");t.exports=r((function(e,t,n){var r=o((function(e){return o((function(e){return"^[ _]?"+[].concat.apply([],o((function(e){return e.split(" ")}),e)).join("[ _]?")+"[ _]?"}),[[e.action,e.object],[e.object,e.action]]).join("|")}),t).join("|")+"$";return e[n]=new RegExp(r,"i"),e}),{},{videoPlaybackStarted:[{object:"video playback",action:"started"}],videoPlaybackPaused:[{object:"video playback",action:"paused"}],videoPlaybackInterrupted:[{object:"video playback",action:"interrupted"}],videoPlaybackResumed:[{object:"video playback",action:"resumed"}],videoPlaybackCompleted:[{object:"video playback",action:"completed"}],videoPlaybackBufferStarted:[{object:"video playback buffer",action:"started"}],videoPlaybackBufferCompleted:[{object:"video playback buffer",action:"completed"}],videoPlaybackSeekStarted:[{object:"video playback seek",action:"started"}],videoPlaybackSeekCompleted:[{object:"video playback seek",action:"completed"}],videoContentStarted:[{object:"video content",action:"started"}],videoContentPlaying:[{object:"video content",action:"playing"}],videoContentCompleted:[{object:"video content",action:"completed"}],videoAdStarted:[{object:"video ad",action:"started"}],videoAdPlaying:[{object:"video ad",action:"playing"}],videoAdCompleted:[{object:"video ad",action:"completed"}],promotionViewed:[{object:"promotion",action:"viewed"}],promotionClicked:[{object:"promotion",action:"clicked"}],productsSearched:[{object:"products",action:"searched"}],productListViewed:[{object:"product list",action:"viewed"},{object:"product category",action:"viewed"}],productListFiltered:[{object:"product list",action:"filtered"}],productClicked:[{object:"product",action:"clicked"}],productViewed:[{object:"product",action:"viewed"}],productAdded:[{object:"product",action:"added"}],productRemoved:[{object:"product",action:"removed"}],cartViewed:[{object:"cart",action:"viewed"}],orderUpdated:[{object:"order",action:"updated"}],orderCompleted:[{object:"order",action:"completed"}],orderRefunded:[{object:"order",action:"refunded"}],orderCancelled:[{object:"order",action:"cancelled"}],paymentInfoEntered:[{object:"payment info",action:"entered"}],checkoutStarted:[{object:"checkout",action:"started"}],checkoutStepViewed:[{object:"checkout step",action:"viewed"}],checkoutStepCompleted:[{object:"checkout step",action:"completed"}],couponEntered:[{object:"coupon",action:"entered"}],couponApplied:[{object:"coupon",action:"applied"}],couponDenied:[{object:"coupon",action:"denied"}],couponRemoved:[{object:"coupon",action:"removed"}],productAddedToWishlist:[{object:"product",action:"added to wishlist"}],productRemovedFromWishlist:[{object:"product",action:"removed from wishlist"}],productAddedFromWishlistToCart:[{object:"product",action:"added to cart from wishlist"},{object:"product",action:"added from wishlist to cart"}],productShared:[{object:"product",action:"shared"}],cartShared:[{object:"cart",action:"shared"}],productReviewed:[{object:"product",action:"reviewed"}],applicationInstalled:[{object:"application",action:"installed"}],applicationUpdated:[{object:"application",action:"updated"}],applicationOpened:[{object:"application",action:"opened"}],applicationBackgrounded:[{object:"application",action:"backgrounded"}],applicationUninstalled:[{object:"application",action:"uninstalled"}],applicationCrashed:[{object:"application",action:"crashed"}],installAttributed:[{object:"install",action:"attributed"}],deepLinkOpened:[{object:"deep link",action:"opened"}],pushNotificationReceived:[{object:"push notification",action:"received"}],pushNotificationTapped:[{object:"push notification",action:"tapped"}],pushNotificationBounced:[{object:"push notification",action:"bounced"}],emailBounced:[{object:"email",action:"bounced"}],emailDelivered:[{object:"email",action:"delivered"}],emailLinkClicked:[{object:"email link",action:"clicked"}],emailMarkedAsSpam:[{object:"email",action:"marked as spam"}],emailOpened:[{object:"email",action:"opened"}],unsubscribed:[{object:"",action:"unsubscribed"}]})},{"@ndhoule/foldl":12,"@ndhoule/map":15}],56:[function(e,t,n){"use strict";var o=e("component-bind");t.exports=function(e){for(var t in e){"function"==typeof e[t]&&(e[t]=o(e,e[t]))}return e}},{"component-bind":57}],57:[function(e,t,n){var o=[].slice;t.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var n=o.call(arguments,2);return function(){return t.apply(e,n.concat(o.call(arguments)))}}},{}],58:[function(e,t,n){var o=e("debug")("cookie");function r(e,t,n){n=n||{};var o=s(e)+"="+s(t);null==t&&(n.maxage=-1),n.maxage&&(n.expires=new Date(+new Date+n.maxage)),n.path&&(o+="; path="+n.path),n.domain&&(o+="; domain="+n.domain),n.expires&&(o+="; expires="+n.expires.toUTCString()),n.secure&&(o+="; secure"),document.cookie=o}function i(){var e;try{e=document.cookie}catch(e){return"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e.stack||e),{}}return function(e){var t,n={},o=e.split(/ *; */);if(""==o[0])return n;for(var r=0;r<o.length;++r)t=o[r].split("="),n[c(t[0])]=c(t[1]);return n}(e)}function a(e){return i()[e]}function s(e){try{return encodeURIComponent(e)}catch(t){o("error `encode(%o)` - %o",e,t)}}function c(e){try{return decodeURIComponent(e)}catch(t){o("error `decode(%o)` - %o",e,t)}}t.exports=function(e,t,n){switch(arguments.length){case 3:case 2:return r(e,t,n);case 1:return a(e);default:return i()}}},{debug:69}],59:[function(e,t,n){try{var o=e("type")}catch(t){o=e("component-type")}var r=e("to-function"),i=Object.prototype.hasOwnProperty;function a(e,t,n){for(var o=0;o<e.length;++o)t.call(n,e[o],o)}t.exports=function(e,t,n){switch(t=r(t),n=n||this,o(e)){case"array":return a(e,t,n);case"object":return"number"==typeof e.length?a(e,t,n):function(e,t,n){for(var o in e)i.call(e,o)&&t.call(n,o,e[o])}(e,t,n);case"string":return function(e,t,n){for(var o=0;o<e.length;++o)t.call(n,e.charAt(o),o)}(e,t,n)}}},{"component-type":60,"to-function":111,type:60}],60:[function(e,t,n){var o=Object.prototype.toString;t.exports=function(e){switch(o.call(e)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}return null===e?"null":void 0===e?"undefined":e&&1===e.nodeType?"element":e===Object(e)?"object":typeof e}},{}],61:[function(e,t,n){function o(e){if(e)return function(e){for(var t in o.prototype)e[t]=o.prototype[t];return e}(e)}void 0!==t&&(t.exports=o),o.prototype.on=o.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},o.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},o.prototype.off=o.prototype.removeListener=o.prototype.removeAllListeners=o.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,o=this._callbacks["$"+e];if(!o)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r=0;r<o.length;r++)if((n=o[r])===t||n.fn===t){o.splice(r,1);break}return this},o.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var o=0,r=(n=n.slice(0)).length;o<r;++o)n[o].apply(this,t);return this},o.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},o.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],62:[function(e,t,n){var o=window.addEventListener?"addEventListener":"attachEvent",r=window.removeEventListener?"removeEventListener":"detachEvent",i="addEventListener"!==o?"on":"";n.bind=function(e,t,n,r){return e[o](i+t,n,r||!1),n},n.unbind=function(e,t,n,o){return e[r](i+t,n,o||!1),n}},{}],63:[function(e,t,n){var o=/\b(Array|Date|Object|Math|JSON)\b/g;t.exports=function(e,t){var n=function(e){for(var t=[],n=0;n<e.length;n++)~t.indexOf(e[n])||t.push(e[n]);return t}(function(e){return e.replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\//g,"").replace(o,"").match(/[a-zA-Z_]\w*/g)||[]}(e));return t&&"string"==typeof t&&(t=function(e){return function(t){return e+t}}(t)),t?function(e,t,n){return e.replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\/|[a-zA-Z_]\w*/g,(function(e){return"("==e[e.length-1]||~t.indexOf(e)?n(e):e}))}(e,n,t):n}},{}],64:[function(e,t,n){var o=e("trim"),r=e("type"),i=/(\w+)\[(\d+)\]/,a=function(e){try{return encodeURIComponent(e)}catch(t){return e}},s=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}};n.parse=function(e){if("string"!=typeof e)return{};if(""==(e=o(e)))return{};"?"==e.charAt(0)&&(e=e.slice(1));for(var t={},n=e.split("&"),r=0;r<n.length;r++){var a,c=n[r].split("="),u=s(c[0]);(a=i.exec(u))?(t[a[1]]=t[a[1]]||[],t[a[1]][a[2]]=s(c[1])):t[c[0]]=null==c[1]?"":s(c[1])}return t},n.stringify=function(e){if(!e)return"";var t=[];for(var n in e){var o=e[n];if("array"!=r(o))t.push(a(n)+"="+a(e[n]));else for(var i=0;i<o.length;++i)t.push(a(n+"["+i+"]")+"="+a(o[i]))}return t.join("&")}},{trim:115,type:65}],65:[function(e,t,n){var o=Object.prototype.toString;t.exports=function(e){switch(o.call(e)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===e?"null":void 0===e?"undefined":e!=e?"nan":e&&1===e.nodeType?"element":typeof(e=e.valueOf?e.valueOf():Object.prototype.valueOf.apply(e))}},{}],66:[function(e,t,n){var o=Object.prototype.toString;t.exports=function(e){switch(o.call(e)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===e?"null":void 0===e?"undefined":e!=e?"nan":e&&1===e.nodeType?"element":null!=(t=e)&&(t._isBuffer||t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t))?"buffer":typeof(e=e.valueOf?e.valueOf():Object.prototype.valueOf.apply(e));var t}},{}],67:[function(e,t,n){function o(e){switch(e){case"http:":return 80;case"https:":return 443;default:return location.port}}n.parse=function(e){var t=document.createElement("a");return t.href=e,{href:t.href,host:t.host||location.host,port:"0"===t.port||""===t.port?o(t.protocol):t.port,hash:t.hash,hostname:t.hostname||location.hostname,pathname:"/"!=t.pathname.charAt(0)?"/"+t.pathname:t.pathname,protocol:t.protocol&&":"!=t.protocol?t.protocol:location.protocol,search:t.search,query:t.search.slice(1)}},n.isAbsolute=function(e){return 0==e.indexOf("//")||!!~e.indexOf("://")},n.isRelative=function(e){return!n.isAbsolute(e)},n.isCrossDomain=function(e){e=n.parse(e);var t=n.parse(window.location.href);return e.hostname!==t.hostname||e.port!==t.port||e.protocol!==t.protocol}},{}],68:[function(t,n,o){!function(t){"use strict";var r,i,a,s=(r=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|'[^']*'|'[^']*'/g,i=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,a=/[^-+\dA-Z]/g,function(e,t,n,o){if(1!==arguments.length||"string"!==l(e)||/\d/.test(e)||(t=e,e=void 0),(e=e||new Date)instanceof Date||(e=new Date(e)),isNaN(e))throw TypeError("Invalid date");var d=(t=String(s.masks[t]||t||s.masks.default)).slice(0,4);"UTC:"!==d&&"GMT:"!==d||(t=t.slice(4),n=!0,"GMT:"===d&&(o=!0));var f=n?"getUTC":"get",h=e[f+"Date"](),m=e[f+"Day"](),y=e[f+"Month"](),g=e[f+"FullYear"](),v=e[f+"Hours"](),b=e[f+"Minutes"](),w=e[f+"Seconds"](),_=e[f+"Milliseconds"](),k=n?0:e.getTimezoneOffset(),j=u(e),x=p(e),E={d:h,dd:c(h),ddd:s.i18n.dayNames[m],dddd:s.i18n.dayNames[m+7],m:y+1,mm:c(y+1),mmm:s.i18n.monthNames[y],mmmm:s.i18n.monthNames[y+12],yy:String(g).slice(2),yyyy:g,h:v%12||12,hh:c(v%12||12),H:v,HH:c(v),M:b,MM:c(b),s:w,ss:c(w),l:c(_,3),L:c(Math.round(_/10)),t:v<12?"a":"p",tt:v<12?"am":"pm",T:v<12?"A":"P",TT:v<12?"AM":"PM",Z:o?"GMT":n?"UTC":(String(e).match(i)||[""]).pop().replace(a,""),o:(k>0?"-":"+")+c(100*Math.floor(Math.abs(k)/60)+Math.abs(k)%60,4),S:["th","st","nd","rd"][h%10>3?0:(h%100-h%10!=10)*h%10],W:j,N:x};return t.replace(r,(function(e){return e in E?E[e]:e.slice(1,e.length-1)}))});function c(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}function u(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var o=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-o);var r=(t-n)/6048e5;return 1+Math.floor(r)}function p(e){var t=e.getDay();return 0===t&&(t=7),t}function l(e){return null===e?"null":void 0===e?"undefined":"object"!=typeof e?typeof e:Array.isArray(e)?"array":{}.toString.call(e).slice(8,-1).toLowerCase()}s.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},s.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},"function"==typeof e&&e.amd?e((function(){return s})):"object"==typeof o?n.exports=s:t.dateFormat=s}(this)},{}],69:[function(e,t,n){function o(e){return o.enabled(e)?function(t){t=r(t);var n=new Date,i=n-(o[e]||n);o[e]=n,t=e+" "+t+" +"+o.humanize(i),window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}function r(e){return e instanceof Error?e.stack||e.message:e}t.exports=o,o.names=[],o.skips=[],o.enable=function(e){try{localStorage.debug=e}catch(e){}for(var t=(e||"").split(/[\s,]+/),n=t.length,r=0;r<n;r++)"-"===(e=t[r].replace("*",".*?"))[0]?o.skips.push(new RegExp("^"+e.substr(1)+"$")):o.names.push(new RegExp("^"+e+"$"))},o.disable=function(){o.enable("")},o.humanize=function(e){return e>=36e5?(e/36e5).toFixed(1)+"h":e>=6e4?(e/6e4).toFixed(1)+"m":e>=1e3?(e/1e3|0)+"s":e+"ms"},o.enabled=function(e){for(var t=0,n=o.skips.length;t<n;t++)if(o.skips[t].test(e))return!1;for(t=0,n=o.names.length;t<n;t++)if(o.names[t].test(e))return!0;return!1};try{window.localStorage&&o.enable(localStorage.debug)}catch(e){}},{}],70:[function(e,t,n){var o=e("next-tick");t.exports=function(e,t,n){if("function"!=typeof e)throw new Error("condition must be a function");if("function"!=typeof t)throw new Error("fn must be a function");if(e())return o(t);var r=setInterval((function(){e()&&(o(t),clearInterval(r))}),n||10)}},{"next-tick":90}],71:[function(e,t,n){t.exports=function(e,t){if("string"!=typeof e)throw new TypeError("String expected");t||(t=document);var n=/<([\w:]+)/.exec(e);if(!n)return t.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var o=n[1];if("body"==o){return(r=t.createElement("html")).innerHTML=e,r.removeChild(r.lastChild)}var r,a=i[o]||i._default,s=a[0],c=a[1],u=a[2];(r=t.createElement("div")).innerHTML=c+e+u;for(;s--;)r=r.lastChild;if(r.firstChild==r.lastChild)return r.removeChild(r.firstChild);var p=t.createDocumentFragment();for(;r.firstChild;)p.appendChild(r.removeChild(r.firstChild));return p};var o,r=!1;"undefined"!=typeof document&&((o=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',r=!o.getElementsByTagName("link").length,o=void 0);var i={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:r?[1,"X<div>","</div>"]:[0,"",""]};i.td=i.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],i.option=i.optgroup=[1,'<select multiple="multiple">',"</select>"],i.thead=i.tbody=i.colgroup=i.caption=i.tfoot=[1,"<table>","</table>"],i.polyline=i.ellipse=i.polygon=i.circle=i.text=i.line=i.path=i.rect=i.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"]},{}],72:[function(e,t,n){"use strict";var o=Object.prototype.hasOwnProperty,r=Object.prototype.toString,i=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===r.call(e)},a=function(e){if(!e||"[object Object]"!==r.call(e))return!1;var t,n=o.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&o.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!i)return!1;for(t in e);return void 0===t||o.call(e,t)};t.exports=function e(){var t,n,o,r,s,c,u=arguments[0],p=1,l=arguments.length,d=!1;for("boolean"==typeof u&&(d=u,u=arguments[1]||{},p=2),(null==u||"object"!=typeof u&&"function"!=typeof u)&&(u={});p<l;++p)if(null!=(t=arguments[p]))for(n in t)o=u[n],u!==(r=t[n])&&(d&&r&&(a(r)||(s=i(r)))?(s?(s=!1,c=o&&i(o)?o:[]):c=o&&a(o)?o:{},u[n]=e(d,c,r)):void 0!==r&&(u[n]=r));return u}},{}],73:[function(e,t,n){var o=e("debug");t.exports=function(e,t){var n=o("global-queue:"+e);return t=t||{},function(o){o=[].slice.call(arguments),window[e]||(window[e]=[]),n("%o",o),!1===t.wrap?window[e].push.apply(window[e],o):window[e].push(o)}}},{debug:74}],74:[function(e,t,n){arguments[4][35][0].apply(n,arguments)},{"./debug":75,_process:93,dup:35}],75:[function(e,t,n){arguments[4][36][0].apply(n,arguments)},{dup:36,ms:85}],76:[function(e,t,n){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},{}],77:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],78:[function(e,t,n){t.exports=function(e){return/.+\@.+\..+/.test(e)}},{}],79:[function(e,t,n){"use strict";
/**!
 * is
 * the definitive JavaScript type testing library
 *
 * @copyright 2013-2014 Enrico Marino / Jordan Harband
 * @license MIT
 */var o,r=Object.prototype,i=r.hasOwnProperty,a=r.toString;"function"==typeof Symbol&&(o=Symbol.prototype.valueOf);var s=function(e){return e!=e},c={boolean:1,number:1,string:1,undefined:1},u=/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/,p=/^[A-Fa-f0-9]+$/,l={};l.a=l.type=function(e,t){return typeof e===t},l.defined=function(e){return void 0!==e},l.empty=function(e){var t,n=a.call(e);if("[object Array]"===n||"[object Arguments]"===n||"[object String]"===n)return 0===e.length;if("[object Object]"===n){for(t in e)if(i.call(e,t))return!1;return!0}return!e},l.equal=function(e,t){if(e===t)return!0;var n,o=a.call(e);if(o!==a.call(t))return!1;if("[object Object]"===o){for(n in e)if(!l.equal(e[n],t[n])||!(n in t))return!1;for(n in t)if(!l.equal(e[n],t[n])||!(n in e))return!1;return!0}if("[object Array]"===o){if((n=e.length)!==t.length)return!1;for(;n--;)if(!l.equal(e[n],t[n]))return!1;return!0}return"[object Function]"===o?e.prototype===t.prototype:"[object Date]"===o&&e.getTime()===t.getTime()},l.hosted=function(e,t){var n=typeof t[e];return"object"===n?!!t[e]:!c[n]},l.instance=l.instanceof=function(e,t){return e instanceof t},l.nil=l.null=function(e){return null===e},l.undef=l.undefined=function(e){return void 0===e},l.args=l.arguments=function(e){var t="[object Arguments]"===a.call(e),n=!l.array(e)&&l.arraylike(e)&&l.object(e)&&l.fn(e.callee);return t||n},l.array=Array.isArray||function(e){return"[object Array]"===a.call(e)},l.args.empty=function(e){return l.args(e)&&0===e.length},l.array.empty=function(e){return l.array(e)&&0===e.length},l.arraylike=function(e){return!!e&&!l.bool(e)&&i.call(e,"length")&&isFinite(e.length)&&l.number(e.length)&&e.length>=0},l.bool=l.boolean=function(e){return"[object Boolean]"===a.call(e)},l.false=function(e){return l.bool(e)&&!1===Boolean(Number(e))},l.true=function(e){return l.bool(e)&&!0===Boolean(Number(e))},l.date=function(e){return"[object Date]"===a.call(e)},l.date.valid=function(e){return l.date(e)&&!isNaN(Number(e))},l.element=function(e){return void 0!==e&&"undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&1===e.nodeType},l.error=function(e){return"[object Error]"===a.call(e)},l.fn=l.function=function(e){if("undefined"!=typeof window&&e===window.alert)return!0;var t=a.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t||"[object AsyncFunction]"===t},l.number=function(e){return"[object Number]"===a.call(e)},l.infinite=function(e){return e===1/0||e===-1/0},l.decimal=function(e){return l.number(e)&&!s(e)&&!l.infinite(e)&&e%1!=0},l.divisibleBy=function(e,t){var n=l.infinite(e),o=l.infinite(t),r=l.number(e)&&!s(e)&&l.number(t)&&!s(t)&&0!==t;return n||o||r&&e%t==0},l.integer=l.int=function(e){return l.number(e)&&!s(e)&&e%1==0},l.maximum=function(e,t){if(s(e))throw new TypeError("NaN is not a valid value");if(!l.arraylike(t))throw new TypeError("second argument must be array-like");for(var n=t.length;--n>=0;)if(e<t[n])return!1;return!0},l.minimum=function(e,t){if(s(e))throw new TypeError("NaN is not a valid value");if(!l.arraylike(t))throw new TypeError("second argument must be array-like");for(var n=t.length;--n>=0;)if(e>t[n])return!1;return!0},l.nan=function(e){return!l.number(e)||e!=e},l.even=function(e){return l.infinite(e)||l.number(e)&&e==e&&e%2==0},l.odd=function(e){return l.infinite(e)||l.number(e)&&e==e&&e%2!=0},l.ge=function(e,t){if(s(e)||s(t))throw new TypeError("NaN is not a valid value");return!l.infinite(e)&&!l.infinite(t)&&e>=t},l.gt=function(e,t){if(s(e)||s(t))throw new TypeError("NaN is not a valid value");return!l.infinite(e)&&!l.infinite(t)&&e>t},l.le=function(e,t){if(s(e)||s(t))throw new TypeError("NaN is not a valid value");return!l.infinite(e)&&!l.infinite(t)&&e<=t},l.lt=function(e,t){if(s(e)||s(t))throw new TypeError("NaN is not a valid value");return!l.infinite(e)&&!l.infinite(t)&&e<t},l.within=function(e,t,n){if(s(e)||s(t)||s(n))throw new TypeError("NaN is not a valid value");if(!l.number(e)||!l.number(t)||!l.number(n))throw new TypeError("all arguments must be numbers");return l.infinite(e)||l.infinite(t)||l.infinite(n)||e>=t&&e<=n},l.object=function(e){return"[object Object]"===a.call(e)},l.primitive=function(e){return!e||!("object"==typeof e||l.object(e)||l.fn(e)||l.array(e))},l.hash=function(e){return l.object(e)&&e.constructor===Object&&!e.nodeType&&!e.setInterval},l.regexp=function(e){return"[object RegExp]"===a.call(e)},l.string=function(e){return"[object String]"===a.call(e)},l.base64=function(e){return l.string(e)&&(!e.length||u.test(e))},l.hex=function(e){return l.string(e)&&(!e.length||p.test(e))},l.symbol=function(e){return"function"==typeof Symbol&&"[object Symbol]"===a.call(e)&&"symbol"==typeof o.call(e)},t.exports=l},{}],80:[function(t,n,o){(function(t){(function(){var r="function"==typeof e&&e.amd,i={function:!0,object:!0},a=i[typeof o]&&o&&!o.nodeType&&o,s=i[typeof window]&&window||this,c=a&&i[typeof n]&&n&&!n.nodeType&&"object"==typeof t&&t;function u(e,t){e||(e=s.Object()),t||(t=s.Object());var n=e.Number||s.Number,o=e.String||s.String,r=e.Object||s.Object,a=e.Date||s.Date,c=e.SyntaxError||s.SyntaxError,p=e.TypeError||s.TypeError,l=e.Math||s.Math,d=e.JSON||s.JSON;"object"==typeof d&&d&&(t.stringify=d.stringify,t.parse=d.parse);var f,h,m=r.prototype,y=m.toString,g=new a(-0xc782b5b800cec);try{g=-109252==g.getUTCFullYear()&&0===g.getUTCMonth()&&1===g.getUTCDate()&&10==g.getUTCHours()&&37==g.getUTCMinutes()&&6==g.getUTCSeconds()&&708==g.getUTCMilliseconds()}catch(e){}function v(e){if(void 0!==v[e])return v[e];var r;if("bug-string-char-index"==e)r="a"!="a"[0];else if("json"==e)r=v("json-stringify")&&v("json-parse");else{var i,s='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var c=t.stringify,u="function"==typeof c&&g;if(u){(i=function(){return 1}).toJSON=i;try{u="0"===c(0)&&"0"===c(new n)&&'""'==c(new o)&&void 0===c(y)&&void 0===c(void 0)&&void 0===c()&&"1"===c(i)&&"[1]"==c([i])&&"[null]"==c([void 0])&&"null"==c(null)&&"[null,null,null]"==c([void 0,y,null])&&c({a:[i,!0,!1,null,"\0\b\n\f\r\t"]})==s&&"1"===c(null,i)&&"[\n 1,\n 2\n]"==c([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==c(new a(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==c(new a(864e13))&&'"-000001-01-01T00:00:00.000Z"'==c(new a(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==c(new a(-1))}catch(e){u=!1}}r=u}if("json-parse"==e){var p=t.parse;if("function"==typeof p)try{if(0===p("0")&&!p(!1)){var l=5==(i=p(s)).a.length&&1===i.a[0];if(l){try{l=!p('"\t"')}catch(e){}if(l)try{l=1!==p("01")}catch(e){}if(l)try{l=1!==p("1.")}catch(e){}}}}catch(e){l=!1}r=l}}return v[e]=!!r}if(!v("json")){var b=v("bug-string-char-index");if(!g)var w=l.floor,_=[0,31,59,90,120,151,181,212,243,273,304,334],k=function(e,t){return _[t]+365*(e-1970)+w((e-1969+(t=+(t>1)))/4)-w((e-1901+t)/100)+w((e-1601+t)/400)};if((f=m.hasOwnProperty)||(f=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=y?f=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(t=n.constructor,f=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,f.call(this,e)}),h=function(e,t){var n,o,r,a=0;for(r in(n=function(){this.valueOf=0}).prototype.valueOf=0,o=new n)f.call(o,r)&&a++;return n=o=null,a?h=2==a?function(e,t){var n,o={},r="[object Function]"==y.call(e);for(n in e)r&&"prototype"==n||f.call(o,n)||!(o[n]=1)||!f.call(e,n)||t(n)}:function(e,t){var n,o,r="[object Function]"==y.call(e);for(n in e)r&&"prototype"==n||!f.call(e,n)||(o="constructor"===n)||t(n);(o||f.call(e,n="constructor"))&&t(n)}:(o=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],h=function(e,t){var n,r,a="[object Function]"==y.call(e),s=!a&&"function"!=typeof e.constructor&&i[typeof e.hasOwnProperty]&&e.hasOwnProperty||f;for(n in e)a&&"prototype"==n||!s.call(e,n)||t(n);for(r=o.length;n=o[--r];s.call(e,n)&&t(n));}),h(e,t)},!v("json-stringify")){var j={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},x=function(e,t){return("000000"+(t||0)).slice(-e)},E=function(e){for(var t='"',n=0,o=e.length,r=!b||o>10,i=r&&(b?e.split(""):e);n<o;n++){var a=e.charCodeAt(n);switch(a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=j[a];break;default:if(a<32){t+="\\u00"+x(2,a.toString(16));break}t+=r?i[n]:e.charAt(n)}}return t+'"'},I=function(e,t,n,o,r,i,a){var s,c,u,l,d,m,g,v,b,_,j,C,A,S,T,N;try{s=t[e]}catch(e){}if("object"==typeof s&&s)if("[object Date]"!=(c=y.call(s))||f.call(s,"toJSON"))"function"==typeof s.toJSON&&("[object Number]"!=c&&"[object String]"!=c&&"[object Array]"!=c||f.call(s,"toJSON"))&&(s=s.toJSON(e));else if(s>-1/0&&s<1/0){if(k){for(d=w(s/864e5),u=w(d/365.2425)+1970-1;k(u+1,0)<=d;u++);for(l=w((d-k(u,0))/30.42);k(u,l+1)<=d;l++);d=1+d-k(u,l),g=w((m=(s%864e5+864e5)%864e5)/36e5)%24,v=w(m/6e4)%60,b=w(m/1e3)%60,_=m%1e3}else u=s.getUTCFullYear(),l=s.getUTCMonth(),d=s.getUTCDate(),g=s.getUTCHours(),v=s.getUTCMinutes(),b=s.getUTCSeconds(),_=s.getUTCMilliseconds();s=(u<=0||u>=1e4?(u<0?"-":"+")+x(6,u<0?-u:u):x(4,u))+"-"+x(2,l+1)+"-"+x(2,d)+"T"+x(2,g)+":"+x(2,v)+":"+x(2,b)+"."+x(3,_)+"Z"}else s=null;if(n&&(s=n.call(t,e,s)),null===s)return"null";if("[object Boolean]"==(c=y.call(s)))return""+s;if("[object Number]"==c)return s>-1/0&&s<1/0?""+s:"null";if("[object String]"==c)return E(""+s);if("object"==typeof s){for(S=a.length;S--;)if(a[S]===s)throw p();if(a.push(s),j=[],T=i,i+=r,"[object Array]"==c){for(A=0,S=s.length;A<S;A++)C=I(A,s,n,o,r,i,a),j.push(void 0===C?"null":C);N=j.length?r?"[\n"+i+j.join(",\n"+i)+"\n"+T+"]":"["+j.join(",")+"]":"[]"}else h(o||s,(function(e){var t=I(e,s,n,o,r,i,a);void 0!==t&&j.push(E(e)+":"+(r?" ":"")+t)})),N=j.length?r?"{\n"+i+j.join(",\n"+i)+"\n"+T+"}":"{"+j.join(",")+"}":"{}";return a.pop(),N}};t.stringify=function(e,t,n){var o,r,a,s;if(i[typeof t]&&t)if("[object Function]"==(s=y.call(t)))r=t;else if("[object Array]"==s){a={};for(var c,u=0,p=t.length;u<p;c=t[u++],("[object String]"==(s=y.call(c))||"[object Number]"==s)&&(a[c]=1));}if(n)if("[object Number]"==(s=y.call(n))){if((n-=n%1)>0)for(o="",n>10&&(n=10);o.length<n;o+=" ");}else"[object String]"==s&&(o=n.length<=10?n:n.slice(0,10));return I("",((c={})[""]=e,c),r,a,o,"",[])}}if(!v("json-parse")){var C,A,S=o.fromCharCode,T={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},N=function(){throw C=A=null,c()},O=function(){for(var e,t,n,o,r,i=A,a=i.length;C<a;)switch(r=i.charCodeAt(C)){case 9:case 10:case 13:case 32:C++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=b?i.charAt(C):i[C],C++,e;case 34:for(e="@",C++;C<a;)if((r=i.charCodeAt(C))<32)N();else if(92==r)switch(r=i.charCodeAt(++C)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=T[r],C++;break;case 117:for(t=++C,n=C+4;C<n;C++)(r=i.charCodeAt(C))>=48&&r<=57||r>=97&&r<=102||r>=65&&r<=70||N();e+=S("0x"+i.slice(t,C));break;default:N()}else{if(34==r)break;for(r=i.charCodeAt(C),t=C;r>=32&&92!=r&&34!=r;)r=i.charCodeAt(++C);e+=i.slice(t,C)}if(34==i.charCodeAt(C))return C++,e;N();default:if(t=C,45==r&&(o=!0,r=i.charCodeAt(++C)),r>=48&&r<=57){for(48==r&&((r=i.charCodeAt(C+1))>=48&&r<=57)&&N(),o=!1;C<a&&((r=i.charCodeAt(C))>=48&&r<=57);C++);if(46==i.charCodeAt(C)){for(n=++C;n<a&&((r=i.charCodeAt(n))>=48&&r<=57);n++);n==C&&N(),C=n}if(101==(r=i.charCodeAt(C))||69==r){for(43!=(r=i.charCodeAt(++C))&&45!=r||C++,n=C;n<a&&((r=i.charCodeAt(n))>=48&&r<=57);n++);n==C&&N(),C=n}return+i.slice(t,C)}if(o&&N(),"true"==i.slice(C,C+4))return C+=4,!0;if("false"==i.slice(C,C+5))return C+=5,!1;if("null"==i.slice(C,C+4))return C+=4,null;N()}return"$"},z=function(e){var t,n;if("$"==e&&N(),"string"==typeof e){if("@"==(b?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];"]"!=(e=O());n||(n=!0))n&&(","==e?"]"==(e=O())&&N():N()),","==e&&N(),t.push(z(e));return t}if("{"==e){for(t={};"}"!=(e=O());n||(n=!0))n&&(","==e?"}"==(e=O())&&N():N()),","!=e&&"string"==typeof e&&"@"==(b?e.charAt(0):e[0])&&":"==O()||N(),t[e.slice(1)]=z(O());return t}N()}return e},P=function(e,t,n){var o=M(e,t,n);void 0===o?delete e[t]:e[t]=o},M=function(e,t,n){var o,r=e[t];if("object"==typeof r&&r)if("[object Array]"==y.call(r))for(o=r.length;o--;)P(r,o,n);else h(r,(function(e){P(r,e,n)}));return n.call(e,t,r)};t.parse=function(e,t){var n,o;return C=0,A=""+e,n=z(O()),"$"!=O()&&N(),C=A=null,t&&"[object Function]"==y.call(t)?M(((o={})[""]=n,o),"",t):n}}}return t.runInContext=u,t}if(!c||c.global!==c&&c.window!==c&&c.self!==c||(s=c),a&&!r)u(s,a);else{var p=s.JSON,l=s.JSON3,d=!1,f=u(s,s.JSON3={noConflict:function(){return d||(d=!0,s.JSON=p,s.JSON3=l,p=l=null),f}});s.JSON={parse:f.parse,stringify:f.stringify}}r&&e((function(){return f}))}).call(this)}).call(this,"undefined"!=typeof window&&window.document&&window.document.implementation?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{})},{}],81:[function(e,t,n){var o=e("debug")("jsonp");t.exports=function(e,t,n){"function"==typeof t&&(n=t,t={});t||(t={});var a,s,c=t.prefix||"__jp",u=t.name||c+r++,p=t.param||"callback",l=null!=t.timeout?t.timeout:6e4,d=encodeURIComponent,f=document.getElementsByTagName("script")[0]||document.head;l&&(s=setTimeout((function(){h(),n&&n(new Error("Timeout"))}),l));function h(){a.parentNode&&a.parentNode.removeChild(a),window[u]=i,s&&clearTimeout(s)}return window[u]=function(e){o("jsonp got",e),h(),n&&n(null,e)},e=(e+=(~e.indexOf("?")?"&":"?")+p+"="+d(u)).replace("?&","?"),o('jsonp req "%s"',e),(a=document.createElement("script")).src=e,f.parentNode.insertBefore(a,f),function(){window[u]&&h()}};var r=0;function i(){}},{debug:82}],82:[function(e,t,n){arguments[4][35][0].apply(n,arguments)},{"./debug":83,_process:93,dup:35}],83:[function(e,t,n){arguments[4][36][0].apply(n,arguments)},{dup:36,ms:85}],84:[function(e,t,n){var o=e("is"),r=e("script-onload"),i=e("next-tick");t.exports=function(e,t){if(!e)throw new Error("Cant load nothing...");o.string(e)&&(e={src:e});var n="https:"===document.location.protocol||"chrome-extension:"===document.location.protocol;e.src&&0===e.src.indexOf("//")&&(e.src=n?"https:"+e.src:"http:"+e.src),n&&e.https?e.src=e.https:!n&&e.http&&(e.src=e.http);var a=document.createElement("iframe");return a.src=e.src,a.width=e.width||1,a.height=e.height||1,a.style.display="none",o.fn(t)&&r(a,t),i((function(){var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(a,e)})),a}},{is:79,"next-tick":90,"script-onload":95}],85:[function(e,t,n){var o=1e3,r=6e4,i=60*r,a=24*i;function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}t.exports=function(e,t){t=t||{};var n,c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"days":case"day":case"d":return n*a;case"hours":case"hour":case"hrs":case"hr":case"h":return n*i;case"minutes":case"minute":case"mins":case"min":case"m":return n*r;case"seconds":case"second":case"secs":case"sec":case"s":return n*o;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(e);if("number"===c&&!1===isNaN(e))return t.long?s(n=e,a,"day")||s(n,i,"hour")||s(n,r,"minute")||s(n,o,"second")||n+" ms":function(e){if(e>=a)return Math.round(e/a)+"d";if(e>=i)return Math.round(e/i)+"h";if(e>=r)return Math.round(e/r)+"m";if(e>=o)return Math.round(e/o)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],86:[function(e,t,n){"use strict";var o=e("is"),r=e("@segment/isodate"),i=e("./milliseconds"),a=e("./seconds");t.exports=function(e){return o.date(e)?e:o.number(e)?new Date((t=e)<315576e5?1e3*t:t):r.is(e)?r.parse(e):i.is(e)?i.parse(e):a.is(e)?a.parse(e):new Date(e);var t}},{"./milliseconds":87,"./seconds":88,"@segment/isodate":89,is:79}],87:[function(e,t,n){"use strict";var o=/\d{13}/;n.is=function(e){return o.test(e)},n.parse=function(e){return e=parseInt(e,10),new Date(e)}},{}],88:[function(e,t,n){"use strict";var o=/\d{10}/;n.is=function(e){return o.test(e)},n.parse=function(e){var t=1e3*parseInt(e,10);return new Date(t)}},{}],89:[function(e,t,n){"use strict";var o=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;n.parse=function(e){var t=[1,5,6,7,11,12],n=o.exec(e),r=0;if(!n)return new Date(e);for(var i,a=0;i=t[a];a++)n[i]=parseInt(n[i],10)||0;n[2]=parseInt(n[2],10)||1,n[3]=parseInt(n[3],10)||1,n[2]--,n[8]=n[8]?(n[8]+"00").substring(0,3):0," "===n[4]?r=(new Date).getTimezoneOffset():"Z"!==n[9]&&n[10]&&(r=60*n[11]+n[12],"+"===n[10]&&(r=0-r));var s=Date.UTC(n[1],n[2],n[3],n[5],n[6]+r,n[7],n[8]);return new Date(s)},n.is=function(e,t){return(!t||!1!==/^\d{4}-\d{2}-\d{2}/.test(e))&&o.test(e)}},{}],90:[function(e,t,n){(function(e,n){"use strict";var o,r;o=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e},r=function(e){var t,n=document.createTextNode(""),r=0;return new e((function(){var e;t&&(e=t,t=null,"function"!=typeof e?e.forEach((function(e){e()})):e())})).observe(n,{characterData:!0}),function(e){o(e),t?"function"==typeof t?t=[t,e]:t.push(e):(t=e,n.data=r=++r%2)}},t.exports=function(){if(void 0!==e&&e&&"function"==typeof e.nextTick)return e.nextTick;if("object"==typeof document&&document){if("function"==typeof MutationObserver)return r(MutationObserver);if("function"==typeof WebKitMutationObserver)return r(WebKitMutationObserver)}return"function"==typeof n?function(e){n(o(e))}:"function"==typeof setTimeout?function(e){setTimeout(o(e),0)}:null}()}).call(this,e("_process"),e("timers").setImmediate)},{_process:93,timers:109}],91:[function(e,t,n){function o(e){return function(t,n,o,r){var i;normalize=r&&function(e){return"function"==typeof e}(r.normalizer)?r.normalizer:a,n=normalize(n);for(var s=!1;!s;)c();function c(){for(i in t){var e=normalize(i);if(0===n.indexOf(e)){var o=n.substr(e.length);if("."===o.charAt(0)||0===o.length){n=o.substr(1);var r=t[i];return null==r?void(s=!0):n.length?void(t=r):void(s=!0)}}}i=void 0,s=!0}if(i)return null==t?t:e(t,i,o)}}function r(e,t){return e.hasOwnProperty(t)&&delete e[t],e}function i(e,t,n){return e.hasOwnProperty(t)&&(e[t]=n),e}function a(e){return e.replace(/[^a-zA-Z0-9\.]+/g,"").toLowerCase()}t.exports=o((function(e,t){if(e.hasOwnProperty(t))return e[t]})),t.exports.find=t.exports,t.exports.replace=function(e,t,n,r){return o(i).call(this,e,t,n,r),e},t.exports.del=function(e,t,n){return o(r).call(this,e,t,null,n),e}},{}],92:[function(e,t,n){var o=Object.prototype.hasOwnProperty;n.keys=Object.keys||function(e){var t=[];for(var n in e)o.call(e,n)&&t.push(n);return t},n.values=function(e){var t=[];for(var n in e)o.call(e,n)&&t.push(e[n]);return t},n.merge=function(e,t){for(var n in t)o.call(t,n)&&(e[n]=t[n]);return e},n.length=function(e){return n.keys(e).length},n.isEmpty=function(e){return 0==n.length(e)}},{}],93:[function(e,t,n){var o,r,i=t.exports={};!function(){try{o=setTimeout}catch(e){o=function(){throw new Error("setTimeout is not defined")}}try{r=clearTimeout}catch(e){r=function(){throw new Error("clearTimeout is not defined")}}}();var a,s=[],c=!1,u=-1;function p(){c&&a&&(c=!1,a.length?s=a.concat(s):u=-1,s.length&&l())}function l(){if(!c){var e=o(p);c=!0;for(var t=s.length;t;){for(a=s,s=[];++u<t;)a&&a[u].run();u=-1,t=s.length}a=null,c=!1,r(e)}}function d(e,t){this.fun=e,this.array=t}function f(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new d(e,t)),1!==s.length||c||o(l,0)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=f,i.addListener=f,i.once=f,i.off=f,i.removeListener=f,i.removeAllListeners=f,i.emit=f,i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],94:[function(e,t,n){var o=e("type-component");function r(e,t){return t=t||i,"array"==o(e)?r.array(e,t):r.object(e,t)}function i(e){return null==e}t.exports=r,r.array=function(e,t){for(var n=[],o=0;o<e.length;++o)t(e[o],o)||(n[n.length]=e[o]);return n},r.object=function(e,t){var n={};for(var o in e)e.hasOwnProperty(o)&&!t(e[o],o)&&(n[o]=e[o]);return n},r.types=r.type=function(e,t){return Array.isArray(t)||(t=[t]),r(e,(function(e){return-1!=t.indexOf(o(e))}))}},{"type-component":116}],95:[function(e,t,n){t.exports=function(e,t){return e.addEventListener?function(e,t){e.addEventListener("load",(function(e,n){t(null,n)}),!1),e.addEventListener("error",(function(n){var o=new Error('script error "'+e.src+'"');o.event=n,t(o)}),!1)}(e,t):function(e,t){e.attachEvent("onreadystatechange",(function(n){/complete|loaded/.test(e.readyState)&&t(null,n)})),e.attachEvent("onerror",(function(n){var o=new Error('failed to load the script "'+e.src+'"');o.event=n||window.event,t(o)}))}(e,t)}},{}],96:[function(e,t,n){"use strict";var o=e("obj-case");t.exports=function(e){function t(e,t){return function(){var n=this.traits(),r=this.properties?this.properties():{};return o(n,"address."+e)||o(n,e)||(t?o(n,"address."+t):null)||(t?o(n,t):null)||o(r,"address."+e)||o(r,e)||(t?o(r,"address."+t):null)||(t?o(r,t):null)}}e.zip=t("postalCode","zip"),e.country=t("country"),e.street=t("street"),e.state=t("state"),e.city=t("city"),e.region=t("region")}},{"obj-case":91}],97:[function(e,t,n){"use strict";var o=e("./utils").inherit,r=e("./facade");function i(e,t){r.call(this,e,t)}o(i,r),i.prototype.action=function(){return"alias"},i.prototype.type=i.prototype.action,i.prototype.previousId=function(){return this.field("previousId")||this.field("from")},i.prototype.from=i.prototype.previousId,i.prototype.userId=function(){return this.field("userId")||this.field("to")},i.prototype.to=i.prototype.userId,t.exports=i},{"./facade":99,"./utils":107}],98:[function(e,t,n){"use strict";var o=e("./utils").inherit,r=e("./facade");function i(e,t){r.call(this,e,t)}o(i,r),i.prototype.type=function(){return"delete"},t.exports=i},{"./facade":99,"./utils":107}],99:[function(e,t,n){"use strict";var o=e("./address"),r=e("./utils").clone,i=e("./is-enabled"),a=e("new-date"),s=e("obj-case"),c=e("@segment/isodate-traverse"),u=e("./utils").type;function p(e,t){"clone"in(t=t||{})||(t.clone=!0),t.clone&&(e=r(e)),"traverse"in t||(t.traverse=!0),e.timestamp="timestamp"in e?a(e.timestamp):new Date,t.traverse&&c(e),this.opts=t,this.obj=e}function l(e){return r(e)}p.prototype.proxy=function(e){var t=e.split("."),n=this[e=t.shift()]||this.field(e);return n?("function"==typeof n&&(n=n.call(this)||{}),0===t.length||(n=s(n,t.join("."))),this.opts.clone?l(n):n):n},p.prototype.field=function(e){var t=this.obj[e];return this.opts.clone?l(t):t},p.proxy=function(e){return function(){return this.proxy(e)}},p.field=function(e){return function(){return this.field(e)}},p.multi=function(e){return function(){var t=this.proxy(e+"s");if("array"===u(t))return t;var n=this.proxy(e);return n&&(n=[this.opts.clone?r(n):n]),n||[]}},p.one=function(e){return function(){var t=this.proxy(e);if(t)return t;var n=this.proxy(e+"s");return"array"===u(n)?n[0]:void 0}},p.prototype.json=function(){var e=this.opts.clone?r(this.obj):this.obj;return this.type&&(e.type=this.type()),e},p.prototype.options=function(e){var t=this.obj.options||this.obj.context||{},n=this.opts.clone?r(t):t;if(!e)return n;if(this.enabled(e)){var o=this.integrations(),i=o[e]||s(o,e);return"object"!=typeof i&&(i=s(this.options(),e)),"object"==typeof i?i:{}}},p.prototype.context=p.prototype.options,p.prototype.enabled=function(e){var t=this.proxy("options.providers.all");"boolean"!=typeof t&&(t=this.proxy("options.all")),"boolean"!=typeof t&&(t=this.proxy("integrations.all")),"boolean"!=typeof t&&(t=!0);var n=t&&i(e),o=this.integrations();if(o.providers&&o.providers.hasOwnProperty(e)&&(n=o.providers[e]),o.hasOwnProperty(e)){var r=o[e];n="boolean"!=typeof r||r}return!!n},p.prototype.integrations=function(){return this.obj.integrations||this.proxy("options.providers")||this.options()},p.prototype.active=function(){var e=this.proxy("options.active");return null==e&&(e=!0),e},p.prototype.anonymousId=function(){return this.field("anonymousId")||this.field("sessionId")},p.prototype.sessionId=p.prototype.anonymousId,p.prototype.groupId=p.proxy("options.groupId"),p.prototype.traits=function(e){var t=this.proxy("options.traits")||{},n=this.userId();for(var o in e=e||{},n&&(t.id=n),e){var r=null==this[o]?this.proxy("options.traits."+o):this[o]();null!=r&&(t[e[o]]=r,delete t[o])}return t},p.prototype.library=function(){var e=this.proxy("options.library");return e?"string"==typeof e?{name:e,version:null}:e:{name:"unknown",version:null}},p.prototype.device=function(){var e=this.proxy("context.device");"object"!==u(e)&&(e={});var t=this.library().name;return e.type||(t.indexOf("ios")>-1&&(e.type="ios"),t.indexOf("android")>-1&&(e.type="android")),e},p.prototype.userAgent=p.proxy("context.userAgent"),p.prototype.timezone=p.proxy("context.timezone"),p.prototype.timestamp=p.field("timestamp"),p.prototype.channel=p.field("channel"),p.prototype.ip=p.proxy("context.ip"),p.prototype.userId=p.field("userId"),o(p.prototype),t.exports=p},{"./address":96,"./is-enabled":103,"./utils":107,"@segment/isodate-traverse":48,"new-date":86,"obj-case":91}],100:[function(e,t,n){"use strict";var o=e("./utils").inherit,r=e("is-email"),i=e("new-date"),a=e("./facade");function s(e,t){a.call(this,e,t)}o(s,a),s.prototype.action=function(){return"group"},s.prototype.type=s.prototype.action,s.prototype.groupId=a.field("groupId"),s.prototype.created=function(){var e=this.proxy("traits.createdAt")||this.proxy("traits.created")||this.proxy("properties.createdAt")||this.proxy("properties.created");if(e)return i(e)},s.prototype.email=function(){var e=this.proxy("traits.email");if(e)return e;var t=this.groupId();return r(t)?t:void 0},s.prototype.traits=function(e){var t=this.properties(),n=this.groupId();for(var o in e=e||{},n&&(t.id=n),e){var r=null==this[o]?this.proxy("traits."+o):this[o]();null!=r&&(t[e[o]]=r,delete t[o])}return t},s.prototype.name=a.proxy("traits.name"),s.prototype.industry=a.proxy("traits.industry"),s.prototype.employees=a.proxy("traits.employees"),s.prototype.properties=function(){return this.field("traits")||this.field("properties")||{}},t.exports=s},{"./facade":99,"./utils":107,"is-email":78,"new-date":86}],101:[function(e,t,n){"use strict";var o=e("./facade"),r=e("obj-case"),i=e("./utils").inherit,a=e("is-email"),s=e("new-date"),c=e("trim"),u=e("./utils").type;function p(e,t){o.call(this,e,t)}i(p,o),p.prototype.action=function(){return"identify"},p.prototype.type=p.prototype.action,p.prototype.traits=function(e){var t=this.field("traits")||{},n=this.userId();for(var o in e=e||{},n&&(t.id=n),e){var r=null==this[o]?this.proxy("traits."+o):this[o]();null!=r&&(t[e[o]]=r,o!==e[o]&&delete t[o])}return t},p.prototype.email=function(){var e=this.proxy("traits.email");if(e)return e;var t=this.userId();return a(t)?t:void 0},p.prototype.created=function(){var e=this.proxy("traits.created")||this.proxy("traits.createdAt");if(e)return s(e)},p.prototype.companyCreated=function(){var e=this.proxy("traits.company.created")||this.proxy("traits.company.createdAt");if(e)return s(e)},p.prototype.companyName=function(){return this.proxy("traits.company.name")},p.prototype.name=function(){var e=this.proxy("traits.name");if("string"==typeof e)return c(e);var t=this.firstName(),n=this.lastName();return t&&n?c(t+" "+n):void 0},p.prototype.firstName=function(){var e=this.proxy("traits.firstName");if("string"==typeof e)return c(e);var t=this.proxy("traits.name");return"string"==typeof t?c(t).split(" ")[0]:void 0},p.prototype.lastName=function(){var e=this.proxy("traits.lastName");if("string"==typeof e)return c(e);var t=this.proxy("traits.name");if("string"==typeof t){var n=c(t).indexOf(" ");if(-1!==n)return c(t.substr(n+1))}},p.prototype.uid=function(){return this.userId()||this.username()||this.email()},p.prototype.description=function(){return this.proxy("traits.description")||this.proxy("traits.background")},p.prototype.age=function(){var e=this.birthday(),t=r(this.traits(),"age");return null!=t?t:"date"===u(e)?(new Date).getFullYear()-e.getFullYear():void 0},p.prototype.avatar=function(){var e=this.traits();return r(e,"avatar")||r(e,"photoUrl")||r(e,"avatarUrl")},p.prototype.position=function(){var e=this.traits();return r(e,"position")||r(e,"jobTitle")},p.prototype.username=o.proxy("traits.username"),p.prototype.website=o.one("traits.website"),p.prototype.websites=o.multi("traits.website"),p.prototype.phone=o.one("traits.phone"),p.prototype.phones=o.multi("traits.phone"),p.prototype.address=o.proxy("traits.address"),p.prototype.gender=o.proxy("traits.gender"),p.prototype.birthday=o.proxy("traits.birthday"),t.exports=p},{"./facade":99,"./utils":107,"is-email":78,"new-date":86,"obj-case":91,trim:115}],102:[function(e,t,n){"use strict";var o=e("./facade");o.Alias=e("./alias"),o.Group=e("./group"),o.Identify=e("./identify"),o.Track=e("./track"),o.Page=e("./page"),o.Screen=e("./screen"),o.Delete=e("./delete"),t.exports=o},{"./alias":97,"./delete":98,"./facade":99,"./group":100,"./identify":101,"./page":104,"./screen":105,"./track":106}],103:[function(e,t,n){"use strict";var o={Salesforce:!0};t.exports=function(e){return!o[e]}},{}],104:[function(e,t,n){"use strict";var o=e("./utils").inherit,r=e("./facade"),i=e("./track"),a=e("is-email");function s(e,t){r.call(this,e,t)}o(s,r),s.prototype.action=function(){return"page"},s.prototype.type=s.prototype.action,s.prototype.category=r.field("category"),s.prototype.name=r.field("name"),s.prototype.title=r.proxy("properties.title"),s.prototype.path=r.proxy("properties.path"),s.prototype.url=r.proxy("properties.url"),s.prototype.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")},s.prototype.properties=function(e){var t=this.field("properties")||{},n=this.category(),o=this.name();for(var r in e=e||{},n&&(t.category=n),o&&(t.name=o),e){var i=null==this[r]?this.proxy("properties."+r):this[r]();null!=i&&(t[e[r]]=i,r!==e[r]&&delete t[r])}return t},s.prototype.email=function(){var e=this.proxy("context.traits.email")||this.proxy("properties.email");if(e)return e;var t=this.userId();return a(t)?t:void 0},s.prototype.fullName=function(){var e=this.category(),t=this.name();return t&&e?e+" "+t:t},s.prototype.event=function(e){return e?"Viewed "+e+" Page":"Loaded a Page"},s.prototype.track=function(e){var t=this.json();return t.event=this.event(e),t.timestamp=this.timestamp(),t.properties=this.properties(),new i(t,this.opts)},t.exports=s},{"./facade":99,"./track":106,"./utils":107,"is-email":78}],105:[function(e,t,n){"use strict";var o=e("./utils").inherit,r=e("./page"),i=e("./track");function a(e,t){r.call(this,e,t)}o(a,r),a.prototype.action=function(){return"screen"},a.prototype.type=a.prototype.action,a.prototype.event=function(e){return e?"Viewed "+e+" Screen":"Loaded a Screen"},a.prototype.track=function(e){var t=this.json();return t.event=this.event(e),t.timestamp=this.timestamp(),t.properties=this.properties(),new i(t,this.opts)},t.exports=a},{"./page":104,"./track":106,"./utils":107}],106:[function(e,t,n){"use strict";var o=e("./utils").inherit,r=e("./utils").type,i=e("./facade"),a=e("./identify"),s=e("is-email"),c=e("obj-case");function u(e,t){i.call(this,e,t)}o(u,i),u.prototype.action=function(){return"track"},u.prototype.type=u.prototype.action,u.prototype.event=i.field("event"),u.prototype.value=i.proxy("properties.value"),u.prototype.category=i.proxy("properties.category"),u.prototype.id=i.proxy("properties.id"),u.prototype.productId=function(){return this.proxy("properties.product_id")||this.proxy("properties.productId")},u.prototype.promotionId=function(){return this.proxy("properties.promotion_id")||this.proxy("properties.promotionId")},u.prototype.cartId=function(){return this.proxy("properties.cart_id")||this.proxy("properties.cartId")},u.prototype.checkoutId=function(){return this.proxy("properties.checkout_id")||this.proxy("properties.checkoutId")},u.prototype.paymentId=function(){return this.proxy("properties.payment_id")||this.proxy("properties.paymentId")},u.prototype.couponId=function(){return this.proxy("properties.coupon_id")||this.proxy("properties.couponId")},u.prototype.wishlistId=function(){return this.proxy("properties.wishlist_id")||this.proxy("properties.wishlistId")},u.prototype.reviewId=function(){return this.proxy("properties.review_id")||this.proxy("properties.reviewId")},u.prototype.orderId=function(){return this.proxy("properties.id")||this.proxy("properties.order_id")||this.proxy("properties.orderId")},u.prototype.sku=i.proxy("properties.sku"),u.prototype.tax=i.proxy("properties.tax"),u.prototype.name=i.proxy("properties.name"),u.prototype.price=i.proxy("properties.price"),u.prototype.total=i.proxy("properties.total"),u.prototype.repeat=i.proxy("properties.repeat"),u.prototype.coupon=i.proxy("properties.coupon"),u.prototype.shipping=i.proxy("properties.shipping"),u.prototype.discount=i.proxy("properties.discount"),u.prototype.shippingMethod=function(){return this.proxy("properties.shipping_method")||this.proxy("properties.shippingMethod")},u.prototype.paymentMethod=function(){return this.proxy("properties.payment_method")||this.proxy("properties.paymentMethod")},u.prototype.description=i.proxy("properties.description"),u.prototype.plan=i.proxy("properties.plan"),u.prototype.subtotal=function(){var e=c(this.properties(),"subtotal"),t=this.total()||this.revenue();if(e)return e;if(!t)return 0;if(this.total()){var n=this.tax();n&&(t-=n),(n=this.shipping())&&(t-=n),(n=this.discount())&&(t+=n)}return t},u.prototype.products=function(){var e=this.properties(),t=c(e,"products");return"array"===r(t)?t:[]},u.prototype.quantity=function(){return(this.obj.properties||{}).quantity||1},u.prototype.currency=function(){return(this.obj.properties||{}).currency||"USD"},u.prototype.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")},u.prototype.query=i.proxy("options.query"),u.prototype.properties=function(e){var t=this.field("properties")||{};for(var n in e=e||{}){var o=null==this[n]?this.proxy("properties."+n):this[n]();null!=o&&(t[e[n]]=o,delete t[n])}return t},u.prototype.username=function(){return this.proxy("traits.username")||this.proxy("properties.username")||this.userId()||this.sessionId()},u.prototype.email=function(){var e=this.proxy("traits.email")||this.proxy("properties.email")||this.proxy("options.traits.email");if(e)return e;var t=this.userId();return s(t)?t:void 0},u.prototype.revenue=function(){var e=this.proxy("properties.revenue"),t=this.event();return!e&&t&&t.match(/^[ _]?completed[ _]?order[ _]?|^[ _]?order[ _]?completed[ _]?$/i)&&(e=this.proxy("properties.total")),function(e){if(!e)return;if("number"==typeof e)return e;if("string"!=typeof e)return;if(e=e.replace(/\$/g,""),e=parseFloat(e),!isNaN(e))return e}(e)},u.prototype.cents=function(){var e=this.revenue();return"number"!=typeof e?this.value()||0:100*e},u.prototype.identify=function(){var e=this.json();return e.traits=this.traits(),new a(e,this.opts)},t.exports=u},{"./facade":99,"./identify":101,"./utils":107,"is-email":78,"obj-case":91}],107:[function(e,t,n){"use strict";n.inherit=e("inherits"),n.clone=e("@ndhoule/clone"),n.type=e("type-component")},{"@ndhoule/clone":6,inherits:77,"type-component":116}],108:[function(e,t,n){t.exports=function(e,t){return t||(t={}),e.toLowerCase().replace(t.replace||/[^a-z0-9]/g," ").replace(/^ +| +$/g,"").replace(/ +/g,t.separator||"-")}},{}],109:[function(e,t,n){(function(t,o){var r=e("process/browser.js").nextTick,i=Function.prototype.apply,a=Array.prototype.slice,s={},c=0;function u(e,t){this._id=e,this._clearFn=t}n.setTimeout=function(){return new u(i.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new u(i.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},u.prototype.unref=u.prototype.ref=function(){},u.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n.setImmediate="function"==typeof t?t:function(e){var t=c++,o=!(arguments.length<2)&&a.call(arguments,1);return s[t]=!0,r((function(){s[t]&&(o?e.apply(null,o):e.call(null),n.clearImmediate(t))})),t},n.clearImmediate="function"==typeof o?o:function(e){delete s[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":93,timers:109}],110:[function(e,t,n){var o=e("to-space-case");t.exports=function(e){return o(e).replace(/\s(\w)/g,(function(e,t){return t.toUpperCase()}))}},{"to-space-case":113}],111:[function(e,t,n){var o;try{o=e("props")}catch(t){o=e("component-props")}function r(e){switch({}.toString.call(e)){case"[object Object]":return function(e){var t={};for(var n in e)t[n]="string"==typeof e[n]?i(e[n]):r(e[n]);return function(e){if("object"!=typeof e)return!1;for(var n in t){if(!(n in e))return!1;if(!t[n](e[n]))return!1}return!0}}(e);case"[object Function]":return e;case"[object String]":return/^ *\W+/.test(n=e)?new Function("_","return _ "+n):new Function("_","return "+function(e){var t,n,r,i=o(e);if(!i.length)return"_."+e;for(n=0;n<i.length;n++)r=i[n],e=a(r,e,t="('function' == typeof "+(t="_."+r)+" ? "+t+"() : "+t+")");return e}(n));case"[object RegExp]":return t=e,function(e){return t.test(e)};default:return i(e)}var t,n}function i(e){return function(t){return e===t}}function a(e,t,n){return t.replace(new RegExp("(\\.)?"+e,"g"),(function(e,t){return t?e:n}))}t.exports=r},{"component-props":63,props:63}],112:[function(e,t,n){t.exports=function(e){return o.test(e)?e.toLowerCase():r.test(e)?(function(e){return e.replace(i,(function(e,t){return t?" "+t:""}))}(e)||e).toLowerCase():function(e){return e.replace(a,(function(e,t,n){return t+" "+n.toLowerCase().split("").join(" ")}))}(e).toLowerCase()};var o=/\s/,r=/[\W_]/;var i=/[\W_]+(.|$)/g;var a=/(.)([A-Z]+)/g},{}],113:[function(e,t,n){var o=e("to-no-case");t.exports=function(e){return o(e).replace(/[\W_]+(.|$)/g,(function(e,t){return t?" "+t:""})).trim()}},{"to-no-case":114}],114:[function(e,t,n){t.exports=function(e){return o.test(e)?e.toLowerCase():r.test(e)?(function(e){return e.replace(a,(function(e,t){return t?" "+t:""}))}(e)||e).toLowerCase():i.test(e)?function(e){return e.replace(s,(function(e,t,n){return t+" "+n.toLowerCase().split("").join(" ")}))}(e).toLowerCase():e.toLowerCase()};var o=/\s/,r=/(_|-|\.|:)/,i=/([a-z][A-Z]|[A-Z][a-z])/;var a=/[\W_]+(.|$)/g;var s=/(.)([A-Z]+)/g},{}],115:[function(e,t,n){(n=t.exports=function(e){return e.replace(/^\s*|\s*$/g,"")}).left=function(e){return e.replace(/^\s*/,"")},n.right=function(e){return e.replace(/\s*$/,"")}},{}],116:[function(e,t,n){var o=Object.prototype.toString;t.exports=function(e){switch(o.call(e)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array"}return null===e?"null":void 0===e?"undefined":e===Object(e)?"object":typeof e}},{}],117:[function(e,t,n){function o(e){return r()?"https:"+e:"http:"+e}function r(){return"https:"==location.protocol||"chrome-extension:"==location.protocol}t.exports=function(e){switch(arguments.length){case 0:return r();case 1:return o(e)}}},{}],118:[function(e,t,n){t.exports=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var o=e.charCodeAt(n);o<128?t+=String.fromCharCode(o):o>127&&o<2048?(t+=String.fromCharCode(o>>6|192),t+=String.fromCharCode(63&o|128)):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128),t+=String.fromCharCode(63&o|128))}return t}},{}],119:[function(e,t,n){(function(e){var n,o=e.crypto||e.msCrypto;if(o&&o.getRandomValues){var r=new Uint8Array(16);n=function(){return o.getRandomValues(r),r}}if(!n){var i=new Array(16);n=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}t.exports=n}).call(this,"undefined"!=typeof window&&window.document&&window.document.implementation?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{})},{}],120:[function(e,t,n){for(var o=e("./rng"),r=[],i={},a=0;a<256;a++)r[a]=(a+256).toString(16).substr(1),i[r[a]]=a;function s(e,t){var n=t||0,o=r;return o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]}var c=o(),u=[1|c[0],c[1],c[2],c[3],c[4],c[5]],p=16383&(c[6]<<8|c[7]),l=0,d=0;function f(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||o)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var a=0;a<16;a++)t[r+a]=i[a];return t||s(i)}var h=f;h.v1=function(e,t,n){var o=t&&n||0,r=t||[],i=void 0!==(e=e||{}).clockseq?e.clockseq:p,a=void 0!==e.msecs?e.msecs:(new Date).getTime(),c=void 0!==e.nsecs?e.nsecs:d+1,f=a-l+(c-d)/1e4;if(f<0&&void 0===e.clockseq&&(i=i+1&16383),(f<0||a>l)&&void 0===e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=a,d=c,p=i;var h=(1e4*(268435455&(a+=122192928e5))+c)%4294967296;r[o++]=h>>>24&255,r[o++]=h>>>16&255,r[o++]=h>>>8&255,r[o++]=255&h;var m=a/4294967296*1e4&268435455;r[o++]=m>>>8&255,r[o++]=255&m,r[o++]=m>>>24&15|16,r[o++]=m>>>16&255,r[o++]=i>>>8|128,r[o++]=255&i;for(var y=e.node||u,g=0;g<6;g++)r[o+g]=y[g];return t||s(r)},h.v4=f,h.parse=function(e,t,n){var o=t&&n||0,r=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,(function(e){r<16&&(t[o+r++]=i[e])}));r<16;)t[o+r++]=0;return t},h.unparse=s,t.exports=h},{"./rng":119}]},{},[3])}(window.define);
//# sourceMappingURL=analytics-c7af4d4e323cc1137c45f692e81cae05fd2a3986.js.map
